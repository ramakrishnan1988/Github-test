/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* tslint:disable */\nvar essex_powerbi_base_1 = __webpack_require__(2);\nvar AttributeSlicerVisual_capabilities_1 = __webpack_require__(21);\nvar colors = __webpack_require__(14).full;\nvar log = essex_powerbi_base_1.logger(\"essex:widget:AttributeSlicerVisual\");\n/* tslint:enable */\n// PBI Swallows these\nvar EVENTS_TO_IGNORE = \"mousedown mouseup click focus blur input pointerdown pointerup touchstart touchmove touchdown\";\nvar AttributeSlicer_1 = __webpack_require__(18);\nvar essex_powerbi_base_2 = __webpack_require__(2);\nvar _ = __webpack_require__(1);\nvar SelectionId = powerbi.visuals.SelectionId;\nvar data = powerbi.data;\nvar valueFormatterFactory = powerbi.visuals.valueFormatter.create;\nvar PixelConverter = jsCommon.PixelConverter;\nvar AttributeSlicer = (function (_super) {\n    __extends(AttributeSlicer, _super);\n    /**\n     * Constructor\n     */\n    function AttributeSlicer(noCss) {\n        var _this = this;\n        if (noCss === void 0) { noCss = false; }\n        _super.call(this, noCss);\n        /**\n         * Whether or not we are currently loading data\n         */\n        this.loadingData = false;\n        /**\n         * Updates the data filter based on the selection\n         */\n        this.onSelectionChanged = _.debounce(function (selectedItems) {\n            log(\"onSelectionChanged\");\n            _this.updateSelectionFilter(selectedItems);\n        }, 100);\n        /**\n         * Getter for the update type\n         */\n        this.updateType = essex_powerbi_base_1.updateTypeGetter(this);\n        /**\n         * The display units for the values\n         */\n        this.labelDisplayUnits = 0;\n        if (!noCss) {\n            this.myCssModule = __webpack_require__(9);\n        }\n        // Tell base we should not load sandboxed\n        essex_powerbi_base_2.VisualBase.DEFAULT_SANDBOX_ENABLED = false;\n    }\n    /**\n     * Converts the given dataview into a list of listitems\n     */\n    AttributeSlicer.converter = function (dataView, valueFormatter, categoryFormatter) {\n        var converted;\n        var categorical = dataView && dataView.categorical;\n        var categories = categorical && categorical.categories;\n        var values = categorical && categorical.values;\n        var maxValue = 0;\n        if (categories && categories.length && categories[0].values) {\n            converted = categories[0].values.map(function (category, catIdx) {\n                var id = SelectionId.createWithId(categories[0].identity[catIdx]);\n                var total = 0;\n                var sections;\n                if (values) {\n                    sections = values.map(function (v, j) {\n                        var value = v.values[catIdx];\n                        total += value;\n                        return {\n                            color: colors[j] || \"#ccc\",\n                            value: value,\n                            displayValue: valueFormatter.format(value),\n                            width: 0,\n                        };\n                    });\n                    sections.forEach(function (s) {\n                        s.width = (s.value / total) * 100;\n                    });\n                }\n                var item = AttributeSlicer.createItem(categoryFormatter ? categoryFormatter.format(category) : category, total, id, undefined, \"#ccc\");\n                // item.onCreate = (ele: JQuery) => {\n                //     TooltipManager.addTooltip(d3.select(ele[0]), (te) => item.tooltipInfo);\n                // };\n                item.tooltipInfo = (sections || []).map(function (n, j) {\n                    return {\n                        displayName: values[j].source.displayName,\n                        value: n.displayValue,\n                    };\n                });\n                item.sections = sections;\n                if (item.value > maxValue) {\n                    maxValue = item.value;\n                }\n                return item;\n            });\n            converted.forEach(function (c) {\n                c.renderedValue = c.value ? (c.value / maxValue) * 100 : undefined;\n            });\n            return converted;\n        }\n        return converted;\n    };\n    /**\n     * Creates an item\n     */\n    AttributeSlicer.createItem = function (category, value, id, renderedValue, color) {\n        if (color === void 0) { color = \"\"; }\n        return {\n            match: category,\n            identity: id,\n            selected: false,\n            color: color,\n            value: value || 0,\n            renderedValue: renderedValue,\n            equals: function (b) { return id.equals(b.identity); },\n        };\n    };\n    /**\n     * Called when the visual is being initialized\n     */\n    AttributeSlicer.prototype.init = function (options) {\n        _super.prototype.init.call(this, options, \"<div></div>\".trim());\n        var className = this.myCssModule && this.myCssModule.locals && this.myCssModule.locals.className;\n        if (className) {\n            this.element.addClass(className);\n        }\n        // HAX: I am a strong, independent element and I don't need no framework tellin me how much focus I can have\n        this.element.on(EVENTS_TO_IGNORE, function (e) { return e.stopPropagation(); });\n        this.host = options.host;\n        this.propertyPersister = essex_powerbi_base_1.createPropertyPersister(this.host, 100);\n        this.mySlicer = this.createAttributeSlicer(options.element);\n        log(\"Loading Custom Sandbox: \", this.sandboxed);\n    };\n    /**\n     * Called when the visual is being updated\n     */\n    AttributeSlicer.prototype.update = function (options) {\n        var updateType = this.updateType();\n        _super.prototype.update.call(this, options);\n        // Make sure the slicer has some sort of dimensions\n        if (!this.mySlicer.dimensions) {\n            this.mySlicer.dimensions = options.viewport;\n        }\n        if ((updateType & essex_powerbi_base_1.UpdateType.Resize) === essex_powerbi_base_1.UpdateType.Resize) {\n            this.mySlicer.dimensions = options.viewport;\n        }\n        this.loadingData = true;\n        var dv = this.dataView = options.dataViews && options.dataViews[0];\n        var metadata = dv && dv.metadata;\n        if (dv) {\n            // Is this necessary here? Shouldn't this be moved outside of the dataview check?\n            if ((updateType & essex_powerbi_base_1.UpdateType.Settings) === essex_powerbi_base_1.UpdateType.Settings) {\n                // We need to reload the data if the case insensitivity changes (this filters the data and sends it to the slicer)\n                var hasDataChanges = (updateType & essex_powerbi_base_1.UpdateType.Data) === essex_powerbi_base_1.UpdateType.Data;\n                var newSettings = this.parseSettingsFromPowerBI(dv);\n                this.loadSettings(newSettings, hasDataChanges);\n            }\n            // We should show values if there are actually values\n            // IMPORTANT: This stays before loadDataFromPowerBI, otherwise the values don't display\n            var doesDataSupportSearch = this.doesDataSupportSearch(dv);\n            var isSearchEnabled = !this.syncSettingWithPBI(metadata && metadata.objects, \"general\", \"selfFilterEnabled\", false);\n            var showSearch = doesDataSupportSearch && isSearchEnabled;\n            this.mySlicer.showSearchBox = showSearch;\n            if (!showSearch) {\n                this.mySlicer.searchString = \"\";\n            }\n            // Load data if the data has definitely changed, sometimes however it hasn't actually changed\n            // ie search for Microsof then Microsoft\n            if ((updateType & essex_powerbi_base_1.UpdateType.Data) === essex_powerbi_base_1.UpdateType.Data || this.loadDeferred) {\n                var newData = AttributeSlicer.converter(dv, this.createValueFormatter(), this.createCategoryFormatter(dv));\n                this.loadData({\n                    data: newData,\n                    metadata: this.getCategoryInfoFromPowerBI(dv),\n                });\n            }\n            this.loadSelectionFromPowerBI(dv);\n        }\n        else {\n            this.mySlicer.data = [];\n            this.mySlicer.selectedItems = [];\n        }\n        this.loadingData = false;\n    };\n    /**\n     * Enumerates the instances for the objects that appear in the power bi panel\n     */\n    AttributeSlicer.prototype.enumerateObjectInstances = function (options) {\n        var instances = _super.prototype.enumerateObjectInstances.call(this, options) || [{\n                /*tslint:disable */ selector: null /* tslint:enable */,\n                objectName: options.objectName,\n                properties: {},\n            },];\n        var instance = instances[0];\n        var props = instance.properties;\n        if (options.objectName === \"general\") {\n            _.merge(props, {\n                textSize: PixelConverter.toPoint(this.mySlicer.fontSize),\n                showOptions: this.mySlicer.showOptions,\n            });\n        }\n        else if (options.objectName === \"display\") {\n            _.merge(props, {\n                valueColumnWidth: this.mySlicer.valueWidthPercentage,\n                horizontal: this.mySlicer.renderHorizontal,\n                labelDisplayUnits: this.labelDisplayUnits,\n                labelPrecision: this.labelPrecision,\n            });\n        }\n        else if (options.objectName === \"selection\") {\n            _.merge(props, {\n                singleSelect: this.mySlicer.singleSelect,\n                brushMode: this.mySlicer.brushSelectionMode,\n                showSelections: this.mySlicer.showSelections,\n            });\n        }\n        return instances;\n    };\n    /**\n     * Loads our settings from the powerbi objects\n     */\n    AttributeSlicer.prototype.loadSettings = function (newSettings, dataUpdate) {\n        log(\"Load Settings: \", JSON.stringify(newSettings));\n        var s = this.mySlicer;\n        var displayUnits = this.labelDisplayUnits !== (this.labelDisplayUnits = newSettings.labelDisplayUnits);\n        var precision = this.labelPrecision !== (this.labelPrecision = newSettings.labelPrecision);\n        var singleSelect = s.singleSelect !== (s.singleSelect = newSettings.singleSelect);\n        s.brushSelectionMode = newSettings.brushSelectionMode;\n        s.showSelections = newSettings.showSelections;\n        s.showOptions = newSettings.showOptions;\n        var searchString = newSettings.searchString;\n        if (searchString && searchString !== this.mySlicer.searchString) {\n            this.mySlicer.searchString = searchString;\n        }\n        this.mySlicer.valueWidthPercentage = newSettings.valueWidthPercentage;\n        this.mySlicer.renderHorizontal = newSettings.renderHorizontal;\n        var pxSize = newSettings.textSize;\n        if (pxSize) {\n            pxSize = PixelConverter.fromPointToPixel(pxSize);\n        }\n        this.mySlicer.fontSize = pxSize;\n        // If our value displays change\n        if ((displayUnits || precision) &&\n            !dataUpdate &&\n            // No point in doing anything if there is not data\n            this.mySlicer.data &&\n            this.mySlicer.data.length) {\n            var formatter_1 = this.createValueFormatter();\n            // Update the display values in the datas\n            this.mySlicer.data.forEach(function (n) {\n                (n.sections || []).forEach(function (section) {\n                    section.displayValue = formatter_1.format(section.value);\n                });\n            });\n            // Tell the slicer to repaint\n            this.mySlicer.refresh();\n        }\n        // If we went from multiple to single, then update the selection filter accordingly\n        if (this.mySlicer.singleSelect && singleSelect) {\n            // Let it know that selection has changed, eventually\n            // Normally would do a return; after this, but there are circumstances in which this may cause other issues\n            // ie. If data hasn't been loaded in the first place, then on the next update there will be no data changes\n            // according to our change detector\n            // OR if the selection hasn't actually changed, and we short circuit it, the data won't have a chance to load.\n            // I guess it's safer/easier to do this than to think of all the possible issues doing it the other way.\n            this.onSelectionChanged(this.mySlicer.selectedItems);\n        }\n    };\n    /**\n     * Loads the data from the dataview\n     */\n    AttributeSlicer.prototype.loadData = function (dataObj) {\n        log(\"Loading data from PBI\");\n        var metadata = dataObj.metadata, data = dataObj.data;\n        this.data = data || [];\n        var filteredData = this.data.slice(0);\n        // If we are appending data for the attribute slicer\n        if (this.loadDeferred && this.mySlicer.data && !this.loadDeferred[\"search\"]) {\n            // we only need to give it the new items\n            this.loadDeferred.resolve(filteredData.slice(this.mySlicer.data.length));\n            delete this.loadDeferred;\n        }\n        else {\n            this.mySlicer.data = filteredData;\n            delete this.loadDeferred;\n        }\n        // if the user has changed the categories, then selection is done for\n        if (!metadata.hasCategories ||\n            (this.currentCategory && this.currentCategory !== metadata.categoryColumnName)) {\n            log(\"Clearing Selection, Categories Changed\");\n            this.mySlicer.selectedItems = [];\n            this.mySlicer.searchString = \"\";\n            this.updateSelectionFilter([]);\n        }\n        this.currentCategory = metadata.categoryColumnName;\n    };\n    /**\n     * Gets called when PBI destroys this visual\n     */\n    AttributeSlicer.prototype.destroy = function () {\n        if (this.mySlicer) {\n            this.mySlicer.destroy();\n        }\n    };\n    /**\n     * Gets the inline css used for this element\n     */\n    AttributeSlicer.prototype.getCss = function () {\n        return this.myCssModule ? _super.prototype.getCss.call(this).concat([this.myCssModule + \"\"]) : [];\n    };\n    /**\n     * Creates an attribute slicer with the given element\n     */\n    AttributeSlicer.prototype.createAttributeSlicer = function (element) {\n        var _this = this;\n        var slicerEle = $(\"<div>\");\n        this.element.append(slicerEle);\n        var mySlicer = new AttributeSlicer_1.AttributeSlicer(slicerEle);\n        mySlicer.serverSideSearch = true;\n        mySlicer.events.on(\"loadMoreData\", function (item, isSearch) { return _this.onLoadMoreData(item, isSearch); });\n        mySlicer.events.on(\"canLoadMoreData\", function (item, isSearch) {\n            return item.result = !!_this.dataView && (isSearch || !!_this.dataView.metadata.segment);\n        });\n        mySlicer.events.on(\"selectionChanged\", function (newItems) {\n            if (!_this.loadingData) {\n                _this.onSelectionChanged(newItems);\n            }\n        });\n        // Hide the searchbox by default\n        mySlicer.showSearchBox = false;\n        return mySlicer;\n    };\n    AttributeSlicer.prototype.doesDataSupportSearch = function (dv) {\n        var categorical = dv && dv.categorical;\n        this.mySlicer.showValues = !!categorical && !!categorical.values && categorical.values.length > 0;\n        if (categorical && categorical.categories && categorical.categories.length) {\n            var source = categorical.categories[0].source;\n            var metadataSource = dv.metadata && dv.metadata.columns && dv.metadata.columns.filter(function (n) { return n.roles[\"Category\"]; })[0];\n            // return source && (source.type.numeric || source.type.text || source.type.bool);\n            return source && metadataSource && metadataSource.type.text && source.type.text;\n        }\n        return false;\n    };\n    /**\n     * Gets the categorical information from powerbi\n     */\n    AttributeSlicer.prototype.getCategoryInfoFromPowerBI = function (dv) {\n        var categorical = dv.categorical;\n        var categories = categorical && categorical.categories;\n        var hasCategories = !!(categories && categories.length > 0);\n        var source = hasCategories && categorical.categories[0].source;\n        return {\n            categoryColumnName: source.queryName,\n            hasCategories: hasCategories,\n        };\n    };\n    /**\n     * Listener for when loading more data\n     */\n    AttributeSlicer.prototype.onLoadMoreData = function (item, isSearch) {\n        if (isSearch) {\n            var st = this.mySlicer.searchString;\n            var filterExpr = void 0;\n            var source = this.dataView.categorical.categories[0].source;\n            var sourceType = source.type;\n            // Only support \"contains\" with text columns\n            // if (sourceType.extendedType === powerbi.ValueType.fromDescriptor({ text: true }).extendedType) {\n            if (st) {\n                if (sourceType.text) {\n                    var containsTextExpr = data.SQExprBuilder.text(st);\n                    filterExpr = data.SQExprBuilder.contains(source.expr, containsTextExpr);\n                } /*else if (sourceType.dateTime) {\n                    const parsedDate = moment(st, AttributeSlicer.MOMENT_FORMATS);\n                    const dateValue = parsedDate.toDate();\n                    filterExpr = data.SQExprBuilder.equal(<any>source.expr, data.SQExprBuilder.dateTime(dateValue)); */\n                else {\n                    /* tslint:enable */\n                    var rightExpr = void 0;\n                    if (sourceType.numeric) {\n                        rightExpr = data.SQExprBuilder.typedConstant(parseFloat(st), sourceType);\n                    }\n                    else if (sourceType.bool) {\n                        rightExpr = data.SQExprBuilder.boolean(st === \"1\" || st === \"true\");\n                    }\n                    if (rightExpr) {\n                        filterExpr = data.SQExprBuilder.equal(source.expr, rightExpr);\n                    }\n                }\n            }\n            var propToPersist = void 0;\n            var operation = \"merge\";\n            if (filterExpr && st) {\n                propToPersist = data.SemanticFilter.fromSQExpr(filterExpr);\n            }\n            else {\n                operation = \"remove\";\n            }\n            this.propertyPersister.persist(false, (_a = {},\n                _a[operation] = [\n                    {\n                        objectName: \"general\",\n                        selector: undefined,\n                        properties: {\n                            \"selfFilter\": propToPersist\n                        },\n                    },\n                ],\n                _a\n            ));\n            this.loadDeferred = $.Deferred();\n            // Let the loader know that it is a search\n            this.loadDeferred[\"search\"] = true;\n            item.result = this.loadDeferred.promise();\n        }\n        else if (this.dataView.metadata.segment) {\n            var alreadyLoading = !!this.loadDeferred;\n            if (this.loadDeferred) {\n                this.loadDeferred.reject();\n            }\n            this.loadDeferred = $.Deferred();\n            item.result = this.loadDeferred.promise();\n            if (!alreadyLoading) {\n                this.host.loadMoreData();\n                log(\"Loading more data\");\n            }\n        }\n        var _a;\n    };\n    /**\n     * Creates a value formatter from the current set of options\n     */\n    AttributeSlicer.prototype.createValueFormatter = function () {\n        return valueFormatterFactory({\n            value: this.labelDisplayUnits,\n            format: \"0\",\n            precision: this.labelPrecision,\n        });\n    };\n    /**\n     * Creates a formatter capable of formatting the categories (or undefined) if not necessary\n     */\n    AttributeSlicer.prototype.createCategoryFormatter = function (dataView) {\n        var formatter;\n        var cats = dataView && dataView.categorical && dataView.categorical.categories;\n        if (cats && cats.length && cats[0].source.type.dateTime) {\n            var min_1;\n            var max_1;\n            cats[0].values.forEach(function (n) {\n                if (typeof min_1 === \"undefined\" || min_1 > n) {\n                    min_1 = n;\n                }\n                if (typeof max_1 === \"undefined\" || max_1 < n) {\n                    max_1 = n;\n                }\n            });\n            if (min_1 && max_1) {\n                formatter = valueFormatterFactory({\n                    value: min_1,\n                    value2: max_1,\n                    format: cats[0].source.format || \"0\",\n                });\n            }\n        }\n        return formatter;\n    };\n    /**\n     * Loads the selection from PowerBI\n     */\n    AttributeSlicer.prototype.loadSelectionFromPowerBI = function (dataView) {\n        var objects = dataView && dataView.metadata && dataView.metadata.objects;\n        if (objects) {\n            // HAX: Stupid crap to restore selection\n            var filter = objects[\"general\"] && objects[\"general\"][\"filter\"];\n            var whereItems = filter && filter.whereItems;\n            var condition = whereItems && whereItems[0] && whereItems[0].condition;\n            var values = condition && condition.values;\n            var args = condition && condition.args;\n            var selectedItems = [];\n            if (values && args && values.length && args.length) {\n                var selectionItems_1 = JSON.parse(objects[\"general\"][\"selection\"]);\n                var sourceExpr_1 = filter.whereItems[0].condition.args[0];\n                var selectionIds = values.map(function (n) {\n                    return SelectionId.createWithId(powerbi.data.createDataViewScopeIdentity(powerbi.data.SQExprBuilder.compare(data.QueryComparisonKind.Equal, sourceExpr_1, n[0])));\n                });\n                selectedItems = selectionIds.map(function (n, i) {\n                    var slimItem = selectionItems_1[i];\n                    return AttributeSlicer.createItem(slimItem.match, slimItem.value, n, slimItem.renderedValue);\n                });\n            }\n            this.mySlicer.selectedItems = selectedItems;\n        }\n        else if (dataView) {\n            this.mySlicer.selectedItems = [];\n        }\n    };\n    /**\n     * Return the value if not undefined/null otherwise returns the default value\n     */\n    AttributeSlicer.prototype.getOrDefault = function (value, def) {\n        /* tslint:disable */\n        return value === null || typeof value === \"undefined\" ? def : value;\n        /* tslint:enable */\n    };\n    /**\n     * Synchronizes the given\n     */\n    AttributeSlicer.prototype.syncSettingWithPBI = function (objects, objectName, property, def) {\n        if (objects && objects[objectName]) {\n            return this.getOrDefault(objects[objectName][property], def);\n        }\n        return def;\n    };\n    /**\n     * Parses the settings that are stored in powerbi\n     */\n    AttributeSlicer.prototype.parseSettingsFromPowerBI = function (dataView) {\n        var objects = dataView && dataView.metadata && dataView.metadata.objects;\n        var selfFilter = this.syncSettingWithPBI(objects, \"general\", \"selfFilter\", undefined);\n        var newSearch = selfFilter;\n        var whereItems = newSearch && newSearch.where();\n        var contains = whereItems && whereItems.length > 0 && whereItems[0].condition;\n        var right = contains && contains.right;\n        return {\n            labelDisplayUnits: this.syncSettingWithPBI(objects, \"display\", \"labelDisplayUnits\", 0),\n            labelPrecision: this.syncSettingWithPBI(objects, \"display\", \"labelPrecision\", 0),\n            singleSelect: this.syncSettingWithPBI(objects, \"selection\", \"singleSelect\", false),\n            brushSelectionMode: this.syncSettingWithPBI(objects, \"selection\", \"brushMode\", false),\n            showSelections: this.syncSettingWithPBI(objects, \"selection\", \"showSelections\", true),\n            showOptions: this.syncSettingWithPBI(objects, \"general\", \"showOptions\", true),\n            valueWidthPercentage: this.syncSettingWithPBI(objects, \"display\", \"valueColumnWidth\", undefined),\n            renderHorizontal: this.syncSettingWithPBI(objects, \"display\", \"horizontal\", false),\n            textSize: this.syncSettingWithPBI(objects, \"general\", \"textSize\", undefined),\n            searchString: right && right.value,\n        };\n    };\n    /**\n     * Updates the data filter based on the selection\n     */\n    AttributeSlicer.prototype.updateSelectionFilter = function (items) {\n        log(\"updateSelectionFilter\");\n        var filter;\n        if (items && items.length) {\n            var selectors = items.map(function (n) { return n.identity.getSelector(); });\n            filter = data.Selector.filterFromSelector(selectors);\n        }\n        var objects = {};\n        var operation = \"merge\";\n        var selection = undefined;\n        if (filter) {\n            selection = JSON.stringify(items.map(function (n) { return ({\n                match: n.match,\n                value: n.value,\n                renderedValue: n.renderedValue,\n            }); }));\n        }\n        else {\n            operation = \"remove\";\n        }\n        $.extend(objects, (_a = {},\n            _a[operation] = [\n                {\n                    objectName: \"general\",\n                    selector: undefined,\n                    properties: {\n                        \"filter\": filter\n                    },\n                },\n                {\n                    objectName: \"general\",\n                    selector: undefined,\n                    properties: {\n                        \"selection\": selection\n                    },\n                },\n            ],\n            _a\n        ));\n        this.propertyPersister.persist(true, objects);\n        var _a;\n    };\n    /**\n     * The set of capabilities for the visual\n     */\n    AttributeSlicer.capabilities = AttributeSlicerVisual_capabilities_1.default;\n    AttributeSlicer = __decorate([\n        essex_powerbi_base_2.Visual(__webpack_require__(16).output.PowerBI)\n    ], AttributeSlicer);\n    return AttributeSlicer;\n}(essex_powerbi_base_2.VisualBase));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = AttributeSlicer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/powerbi/AttributeSlicerVisual.js\n ** module id = 0\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/powerbi/AttributeSlicerVisual.js?");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("module.exports = _;\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 1\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22_%22?");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\n__export(__webpack_require__(5));\nvar VisualBase_1 = __webpack_require__(13);\nexports.VisualBase = VisualBase_1.default;\n//# sourceMappingURL=index.js.map\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/essex.powerbi.base/dist/index.js\n ** module id = 2\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/essex.powerbi.base/dist/index.js?");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("module.exports = jQuery;\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 3\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22jQuery%22?");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 4\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/css-loader/lib/css-base.js?");

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n/* tslint:disable */\nvar debug = __webpack_require__(10);\ndebug.save = function () { };\n// TODO: #IF DEBUG\nif (false) {\n    debug.enable(process.env.DEBUG);\n}\nelse {\n    debug.enabled = function () { return false; };\n}\n/* tslint:enable */\nvar _ = __webpack_require__(1);\n/**\n * A logger factory function\n */\nvar logWriters = [consoleLogWriter()];\nexports.logger = (function (name) {\n    var newLogger = debug(name);\n    newLogger.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        logWriters.forEach(function (n) {\n            n.apply(this, args);\n        });\n    };\n    return newLogger;\n});\nexports.logger.addWriter = function (writer) {\n    logWriters.push(writer);\n};\nvar log = exports.logger(\"essex:widget:Utils\");\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach(function (baseCtor) {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\n        });\n    });\n}\nfunction Mixin(ctor) {\n    return function (me) {\n        applyMixins(me, ctor);\n    };\n}\n/**\n * Registers a visual in the power bi system\n */\nfunction Visual(config) {\n    return function (ctor) {\n        (function (powerbi) {\n            var visuals;\n            (function (visuals) {\n                var plugins;\n                (function (plugins) {\n                    var name = config.visualName + config.projectId;\n                    plugins[name] = {\n                        name: name,\n                        class: name,\n                        capabilities: ctor.capabilities,\n                        custom: true,\n                        create: function () {\n                            return new ctor();\n                        }\n                    };\n                })(plugins = visuals.plugins || (visuals.plugins = {}));\n            })(visuals = powerbi.visuals || (powerbi.visuals = {}));\n        })(window['powerbi'] || (window['powerbi'] = {}));\n    };\n}\nexports.Visual = Visual;\n/**\n * Represents a class that handles the persistance of properties\n */\nvar PropertyPersister = (function () {\n    function PropertyPersister(host, delay) {\n        var _this = this;\n        if (delay === void 0) { delay = 100; }\n        this.host = host;\n        this.delay = delay;\n        /* tslint:disable */\n        /**\n         * Queues the given property changes\n         */\n        this.propsToUpdate = [];\n        this.propUpdater = _.debounce(function () {\n            if (_this.propsToUpdate && _this.propsToUpdate.length) {\n                var toUpdate = _this.propsToUpdate.slice(0);\n                _this.propsToUpdate.length = 0;\n                var final_1 = {};\n                var isSelection_1;\n                toUpdate.forEach(function (n) {\n                    n.changes.forEach(function (m) {\n                        Object.keys(m).forEach(function (operation) {\n                            if (!final_1[operation]) {\n                                final_1[operation] = [];\n                            }\n                            (_a = final_1[operation]).push.apply(_a, m[operation]);\n                            var _a;\n                        });\n                    });\n                    if (n.selection) {\n                        isSelection_1 = true;\n                    }\n                });\n                // SUPER important that these guys happen together, otherwise the selection does not update properly\n                if (isSelection_1) {\n                    _this.host.onSelect({ data: [] });\n                }\n                _this.host.persistProperties(final_1);\n            }\n        }, this.delay);\n    }\n    /**\n     * Queues a set of property changes for the next update\n     */\n    PropertyPersister.prototype.persist = function (selection) {\n        var changes = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            changes[_i - 1] = arguments[_i];\n        }\n        this.propsToUpdate.push({\n            changes: changes,\n            selection: selection\n        });\n        this.propUpdater();\n    };\n    return PropertyPersister;\n}());\nexports.PropertyPersister = PropertyPersister;\n/**\n * Creates a property persister to ensure that all property changes are persisted in bulk\n */\nfunction createPropertyPersister(host, delay) {\n    return new PropertyPersister(host, delay);\n}\nexports.createPropertyPersister = createPropertyPersister;\n/**\n * A collection of utils\n */\nvar Utils = (function () {\n    function Utils() {\n    }\n    /**\n     * Returns if there is any more or less data in the new data\n     * @param idEquality Returns true if a and b are referring to the same object, not necessarily if it has changed\n     */\n    Utils.hasDataChanged = function (newData, oldData, equality) {\n        // If the are identical, either same array or undefined, nothing has changed\n        if (oldData === newData) {\n            return false;\n        }\n        // If only one of them is undefined or if they differ in length, then its changed\n        if (!oldData || !newData || oldData.length !== newData.length) {\n            return true;\n        }\n        // If there are any elements in newdata that arent in the old data\n        return _.some(newData, function (n) { return !_.some(oldData, function (m) { return equality(m, n); }); });\n    };\n    /**\n     * Diffs the two given lists\n     * @param existingItems The current list of items\n     * @param newItems The new set of items\n     * @param differ The interface for comparing items and add/remove events\n     * @param <M>\n     */\n    // TODO: Think about a param that indicates if should be merged into\n    /// existingItems should be modified, or if only the differ should be called\n    Utils.listDiff = function (existingItems, newItems, differ) {\n        existingItems = existingItems || [];\n        newItems = newItems || [];\n        var existing;\n        var found;\n        var curr;\n        var foundItem;\n        // Go backwards so we can remove without screwing up the index\n        for (var i = existingItems.length - 1; i >= 0; i--) {\n            var existing = existingItems[i];\n            var found = false;\n            for (var j = 0; j < newItems.length; j++) {\n                var curr = newItems[j];\n                if (differ.equals(curr, existing)) {\n                    found = true;\n                }\n            }\n            if (!found) {\n                existingItems.splice(i, 1);\n                if (differ.onRemove) {\n                    differ.onRemove(existing);\n                }\n            }\n        }\n        existing = undefined;\n        // Go through the existing ones and add the missing ones\n        for (var i = 0; i < newItems.length; i++) {\n            curr = newItems[i];\n            foundItem = undefined;\n            for (var j = 0; j < existingItems.length; j++) {\n                existing = existingItems[j];\n                if (differ.equals(curr, existing)) {\n                    foundItem = existing;\n                }\n            }\n            if (!foundItem) {\n                existingItems.push(curr);\n                if (differ.onAdd) {\n                    differ.onAdd(curr);\n                }\n            }\n            else if (differ.onUpdate) {\n                differ.onUpdate(foundItem, curr);\n            }\n        }\n    };\n    return Utils;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Utils;\n/**\n * Creates an update watcher for a visual\n */\n// TODO: This would be SOOO much better as a mixin, just don't want all that extra code that it requires right now.\nfunction updateTypeGetter(obj) {\n    var currUpdateType = UpdateType.Unknown;\n    if (obj && obj.update) {\n        var oldUpdate_1 = obj.update;\n        var prevOptions_1;\n        obj.update = function (options) {\n            var updateType = calcUpdateType(prevOptions_1, options);\n            currUpdateType = updateType;\n            prevOptions_1 = options;\n            log(\"Update -- Type: \" + UpdateType[updateType]);\n            return oldUpdate_1.call(this, options);\n        };\n    }\n    return function () {\n        return currUpdateType;\n    };\n}\nexports.updateTypeGetter = updateTypeGetter;\n/**\n * Calculates the updates that have occurred between the two updates\n */\nfunction calcUpdateType(oldOpts, newOpts) {\n    var updateType = UpdateType.Unknown;\n    if (hasResized(oldOpts, newOpts)) {\n        updateType ^= UpdateType.Resize;\n    }\n    if (hasDataChanged(oldOpts, newOpts)) {\n        updateType ^= UpdateType.Data;\n    }\n    if (hasSettingsChanged(oldOpts, newOpts)) {\n        updateType ^= UpdateType.Settings;\n    }\n    if (!oldOpts) {\n        updateType ^= UpdateType.Initial;\n    }\n    return updateType;\n}\nexports.calcUpdateType = calcUpdateType;\n/**\n * Creates html from the given things to log, supports chrome log style coloring (%c)\n * See: https://developer.chrome.com/devtools/docs/console-api#consolelogobject-object\n */\nfunction colorizedLog() {\n    var toLog = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        toLog[_i - 0] = arguments[_i];\n    }\n    var logStr;\n    // logEle.css({ display: \"block\" });\n    if (toLog && toLog.length > 1) {\n        logStr = \"<span>\" + toLog[0] + \"</span>\";\n        for (var i = 1; i < toLog.length; i++) {\n            var value = toLog[i];\n            var cIdx = logStr.indexOf(\"%c\");\n            if (cIdx >= 0) {\n                var beginningPart = logStr.substring(0, cIdx);\n                logStr = beginningPart + \"</span><span style=\\\"\" + value + \"\\\">\" + logStr.substring(cIdx + 2);\n            }\n            else {\n                logStr += value;\n            }\n        }\n    }\n    else {\n        logStr = toLog.join(\"\");\n    }\n    return logStr;\n}\nexports.colorizedLog = colorizedLog;\n/**\n * Adds logging to an element\n */\nfunction elementLogWriter(getElement) {\n    var _this = this;\n    //logger: Logger,\n    // const oldLog = logger.log;\n    return function () {\n        var toLog = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            toLog[_i - 0] = arguments[_i];\n        }\n        var ele = getElement();\n        if (ele) {\n            getElement().prepend($(\"<div>\" + colorizedLog.apply(_this, toLog) + \"</div>\"));\n        }\n    };\n}\nexports.elementLogWriter = elementLogWriter;\n;\n/**\n * Adds logging to an element\n */\nfunction consoleLogWriter() {\n    //logger: Logger,\n    // const oldLog = logger.log;\n    return function () {\n        var toLog = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            toLog[_i - 0] = arguments[_i];\n        }\n        console.log.apply(console, toLog);\n    };\n}\nexports.consoleLogWriter = consoleLogWriter;\n;\nfunction hasArrayChanged(a1, a2, isEqual) {\n    // If the same array, shortcut (also works for undefined/null)\n    if (a1 === a2) {\n        return false;\n    }\n    else if (!a1 || !a2) {\n        return true;\n    }\n    if (a1.length !== a2.length) {\n        return true;\n    }\n    if (a1.length > 0) {\n        var last = a1.length - 1;\n        // check first and last, initially, as it should find 99.95% of changed cases\n        return (!isEqual(a1[0], a2[0])) ||\n            (!isEqual(a1[last], a2[last])) ||\n            // Check everything\n            (_.some(a1, (function (n, i) { return !isEqual(n, a2[i]); })));\n    }\n    return false;\n}\nfunction hasCategoryChanged(dc1, dc2) {\n    var changed = hasArrayChanged(dc1.identity, dc2.identity, function (a, b) { return a.key === b.key; });\n    // Samesees array, they reuse the array for appending items\n    if (dc1.identity && dc2.identity && dc1.identity === dc2.identity) {\n        // TODO: This will not catch the case they reuse the array, ie clear the array, add new items with the same amount as the old one.\n        var prevLength = dc1.identity[\"$prevLength\"];\n        var newLength = dc1.identity.length;\n        dc1.identity[\"$prevLength\"] = newLength;\n        return prevLength !== newLength;\n    }\n    return changed;\n}\nfunction markDataViewState(dv) {\n    if (dv) {\n        var cats2 = (dv.categorical && dv.categorical.categories) || [];\n        // set the length, so next go around, hasCategoryChanged can properly compare\n        cats2.forEach(function (dc) {\n            if (dc.identity) {\n                dc.identity[\"$prevLength\"] = dc.identity.length;\n            }\n        });\n    }\n}\nvar colProps = ['queryName', 'roles', 'sort'];\nfunction hasDataViewChanged(dv1, dv2) {\n    var cats1 = (dv1.categorical && dv1.categorical.categories) || [];\n    var cats2 = (dv2.categorical && dv2.categorical.categories) || [];\n    var cols1 = (dv1.metadata && dv1.metadata.columns) || [];\n    var cols2 = (dv2.metadata && dv2.metadata.columns) || [];\n    if (cats1.length !== cats2.length ||\n        cols1.length !== cols2.length) {\n        return true;\n    }\n    cols1 = cols1.sort(function (a, b) { return a.queryName.localeCompare(b.queryName); });\n    cols2 = cols2.sort(function (a, b) { return a.queryName.localeCompare(b.queryName); });\n    for (var i = 0; i < cols1.length; i++) {\n        // The underlying column has changed, or if the roles have changed\n        if (!_.isEqual(_.pick(cols1[i], colProps), _.pick(cols2[i], colProps))) {\n            return true;\n        }\n    }\n    for (var i = 0; i < cats1.length; i++) {\n        if (hasCategoryChanged(cats1[i], cats2[i])) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction hasDataChanged(oldOptions, newOptions) {\n    var oldDvs = (oldOptions && oldOptions.dataViews) || [];\n    var dvs = newOptions.dataViews || [];\n    if (oldDvs.length !== dvs.length) {\n        dvs.forEach(function (dv) { return markDataViewState(dv); });\n        return true;\n    }\n    for (var i = 0; i < oldDvs.length; i++) {\n        if (hasDataViewChanged(oldDvs[i], dvs[i])) {\n            dvs.forEach(function (dv) { return markDataViewState(dv); });\n            return true;\n        }\n    }\n    dvs.forEach(function (dv) { return markDataViewState(dv); });\n    return false;\n}\nfunction hasSettingsChanged(oldOptions, newOptions) {\n    var oldDvs = (oldOptions && oldOptions.dataViews) || [];\n    var dvs = newOptions.dataViews || [];\n    // Is this correct?\n    if (oldDvs.length !== dvs.length) {\n        return true;\n    }\n    for (var i = 0; i < oldDvs.length; i++) {\n        var oM = oldDvs[i].metadata || {};\n        var nM = dvs[i].metadata || {};\n        if (!_.isEqual(oM.objects, nM.objects)) {\n            return true;\n        }\n    }\n}\nfunction hasResized(oldOptions, newOptions) {\n    return !oldOptions || newOptions.resizeMode;\n}\n/**\n * Represents an update type for a visual\n */\n(function (UpdateType) {\n    UpdateType[UpdateType[\"Unknown\"] = 0] = \"Unknown\";\n    UpdateType[UpdateType[\"Data\"] = 1] = \"Data\";\n    UpdateType[UpdateType[\"Resize\"] = 2] = \"Resize\";\n    UpdateType[UpdateType[\"Settings\"] = 4] = \"Settings\";\n    UpdateType[UpdateType[\"Initial\"] = 8] = \"Initial\";\n    // Some utility keys for debugging\n    /* tslint:disable */\n    UpdateType[UpdateType[\"DataAndResize\"] = 3] = \"DataAndResize\";\n    UpdateType[UpdateType[\"DataAndSettings\"] = 5] = \"DataAndSettings\";\n    UpdateType[UpdateType[\"SettingsAndResize\"] = 6] = \"SettingsAndResize\";\n    UpdateType[UpdateType[\"All\"] = 7] = \"All\";\n})(exports.UpdateType || (exports.UpdateType = {}));\nvar UpdateType = exports.UpdateType;\n//# sourceMappingURL=Utils.js.map\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/essex.powerbi.base/dist/lib/Utils.js\n ** module id = 5\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/essex.powerbi.base/dist/lib/Utils.js?");

/***/ },
/* 6 */
/***/ function(module, exports) {

	eval("\"use strict\";\n/**\n * Pretty prints a value\n */\nfunction prettyPrintValue(val) {\n    \"use strict\";\n    // Date check\n    if (val && val.toISOString) {\n        var dateVal = val;\n        return (dateVal.getMonth() + 1) + \"/\" +\n            dateVal.getDate() + \"/\" +\n            dateVal.getFullYear() + \" \" +\n            dateVal.getHours() + \":\" + dateVal.getMinutes() + (dateVal.getHours() >= 12 ? \"PM\" : \"AM\");\n    }\n    return val === null /* tslint:enable */ || val === undefined ? \"\" : val + \"\";\n}\nexports.prettyPrintValue = prettyPrintValue;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/Utils.js\n ** module id = 6\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/Utils.js?");

/***/ },
/* 7 */
/***/ function(module, exports) {

	eval("\"use strict\";\n/**\n * A mixin that adds support for event emitting\n */\nvar EventEmitter = (function () {\n    function EventEmitter() {\n        this.listeners = {};\n    }\n    /**\n     * Adds an event listener for the given event\n     */\n    EventEmitter.prototype.on = function (name, handler) {\n        var _this = this;\n        var listeners = this.listeners[name] = this.listeners[name] || [];\n        listeners.push(handler);\n        return {\n            destroy: function () {\n                _this.off(name, handler);\n            }\n        };\n    };\n    /**\n     * Removes an event listener for the given event\n     */\n    EventEmitter.prototype.off = function (name, handler) {\n        var listeners = this.listeners[name];\n        if (listeners) {\n            var idx = listeners.indexOf(handler);\n            if (idx >= 0) {\n                listeners.splice(idx, 1);\n            }\n        }\n    };\n    /**\n     * Raises the given event\n     */\n    /*protected*/ EventEmitter.prototype.raiseEvent = function (name) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var listeners = this.listeners[name];\n        if (listeners) {\n            listeners.forEach(function (l) {\n                l.apply(_this, args);\n            });\n        }\n    };\n    return EventEmitter;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = EventEmitter;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./base/EventEmitter.js\n ** module id = 7\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./base/EventEmitter.js?");

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	eval("exports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.id, \"._118K8ja6WhWS6VRmECuFqo *::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n  background-color: transparent; }\\n\\n._118K8ja6WhWS6VRmECuFqo *::-webkit-scrollbar-thumb {\\n  background: transparent; }\\n\\n._118K8ja6WhWS6VRmECuFqo *::-webkit-scrollbar-track {\\n  background: transparent; }\\n\\n._118K8ja6WhWS6VRmECuFqo *:hover::-webkit-scrollbar-thumb {\\n  background: #C8C8C8; }\\n\\n._118K8ja6WhWS6VRmECuFqo *:hover::-webkit-scrollbar-track {\\n  background: transparent; }\\n\\n._118K8ja6WhWS6VRmECuFqo *::-webkit-scrollbar-track-piece {\\n  background: 0 0; }\\n\\n._118K8ja6WhWS6VRmECuFqo * {\\n  -ms-overflow-style: -ms-autohiding-scrollbar;\\n  -ms-scrollbar-track-color: transparent;\\n  -ms-scrollbar-arrow-color: #C8C8C8;\\n  -ms-scrollbar-face-color: #C8C8C8; }\\n\\n._118K8ja6WhWS6VRmECuFqo * body {\\n  scrollbar-face-color: #C8C8C8;\\n  scrollbar-track-color: transparent; }\\n\\n._118K8ja6WhWS6VRmECuFqo .logArea {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  height: 200px;\\n  overflow: auto;\\n  background-color: white;\\n  border-top: 1px solid gray;\\n  display: none;\\n  z-index: 1000; }\\n\\n._118K8ja6WhWS6VRmECuFqo body {\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"className\": \"_118K8ja6WhWS6VRmECuFqo\"\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./~/essex.powerbi.base/css/main.scss\n ** module id = 8\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/essex.powerbi.base/css/main.scss?./~/css-loader!./~/sass-loader");

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	eval("exports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.id, \"._2Y-5vVbYjU0Zli4vB9nZTB .advanced-slicer {\\n  font-family: \\\"Segoe UI\\\", wf_segoe-ui_normal, helvetica, arial, sans-serif; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB .advanced-slicer {\\n  font-size: 12px; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB *::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n  background-color: transparent; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB *::-webkit-scrollbar-thumb {\\n  background: transparent; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB *::-webkit-scrollbar-track {\\n  background: transparent; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB *:hover::-webkit-scrollbar-thumb {\\n  background: #C8C8C8; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB *:hover::-webkit-scrollbar-track {\\n  background: transparent; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB *::-webkit-scrollbar-track-piece {\\n  background: 0 0; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB * {\\n  -ms-overflow-style: -ms-autohiding-scrollbar;\\n  -ms-scrollbar-track-color: transparent;\\n  -ms-scrollbar-arrow-color: #C8C8C8;\\n  -ms-scrollbar-face-color: #C8C8C8; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB * body {\\n  scrollbar-face-color: #C8C8C8;\\n  scrollbar-track-color: transparent; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB .logArea {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  height: 200px;\\n  overflow: auto;\\n  background-color: white;\\n  border-top: 1px solid gray;\\n  display: none;\\n  z-index: 1000; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB body {\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB {\\n  /** http://loading.io/ */ }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .advanced-slicer {\\n    color: #333;\\n    position: relative;\\n    width: 100%;\\n    height: 100%;\\n    overflow: hidden; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .show-highlight.has-search .match {\\n    background-color: yellow; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .searchbox {\\n    vertical-align: middle; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .clear-all {\\n    cursor: pointer;\\n    font-size: .8em;\\n    color: #34f; }\\n\\n@-webkit-keyframes attribute-slicer-ring-animation {\\n  0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@-webkit-keyframes attribute-slicer-ring-animation {\\n  0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@-moz-keyframes attribute-slicer-ring-animation {\\n  0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@-ms-keyframes attribute-slicer-ring-animation {\\n  ._2Y-5vVbYjU0Zli4vB9nZTB 0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB 100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@-moz-keyframes attribute-slicer-ring-animation {\\n  0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@-webkit-keyframes attribute-slicer-ring-animation {\\n  0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@-o-keyframes attribute-slicer-ring-animation {\\n  0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@keyframes attribute-slicer-ring-animation {\\n  0% {\\n    -ms-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -webkit-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -ms-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -webkit-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .load-spinner > div {\\n    position: absolute;\\n    display: block;\\n    width: 160px;\\n    height: 160px;\\n    top: 20px;\\n    left: 20px;\\n    border-radius: 80px;\\n    box-shadow: 0 6px 0 0 #59ebff;\\n    -ms-animation: attribute-slicer-ring-animation 1s linear infinite;\\n    -moz-animation: attribute-slicer-ring-animation 1s linear infinite;\\n    -webkit-animation: attribute-slicer-ring-animation 1s linear infinite;\\n    -o-animation: attribute-slicer-ring-animation 1s linear infinite;\\n    animation: attribute-slicer-ring-animation 1s linear infinite; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .load-spinner {\\n    background: none;\\n    position: absolute;\\n    display: none;\\n    width: 200px;\\n    height: 200px;\\n    left: 0;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    margin: auto;\\n    transform: scale(0.6); }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .list {\\n    position: relative; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .loading {\\n    color: #ccc; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .loading .load-spinner {\\n    display: block; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .boxsized, ._2Y-5vVbYjU0Zli4vB9nZTB .category-container, ._2Y-5vVbYjU0Zli4vB9nZTB .value-container, ._2Y-5vVbYjU0Zli4vB9nZTB .has-values .category-container, ._2Y-5vVbYjU0Zli4vB9nZTB .has-values .value-container {\\n    -webkit-box-sizing: border-box;\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .category-container {\\n    width: 100%;\\n    padding-right: 2px;\\n    vertical-align: middle;\\n    text-overflow: ellipsis; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .value-container {\\n    width: 100%;\\n    padding-right: 2px;\\n    display: none;\\n    vertical-align: middle; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .has-values .category-container {\\n    text-align: right; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .has-values .value-container {\\n    display: inline-block; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .item {\\n    width: 100%; }\\n    ._2Y-5vVbYjU0Zli4vB9nZTB .item.selected-slicer-item {\\n      background-color: #eef; }\\n      ._2Y-5vVbYjU0Zli4vB9nZTB .item.selected-slicer-item .display-container:before {\\n        content: \\\"\\\";\\n        width: 2px;\\n        height: 100%;\\n        background-color: #3599B8;\\n        vertical-align: middle;\\n        position: absolute;\\n        top: 0; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .value-display {\\n    overflow: hidden; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .item:hover .value-display .value {\\n    display: inline-block;\\n    vertical-align: middle; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .value-display .value {\\n    display: none;\\n    padding-left: 3px; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB body {\\n    margin: 2px; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .selection-container .token {\\n    display: none; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .show-selections .selection-container .token {\\n    display: inline-block; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .token {\\n    display: inline-block;\\n    border-radius: 2px;\\n    border: 1px solid #666;\\n    font-size: .8em;\\n    color: #666;\\n    padding: 2px;\\n    cursor: pointer;\\n    margin: 2px;\\n    max-width: 100px;\\n    overflow: hidden;\\n    word-wrap: break-word;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    vertical-align: middle; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .token:hover:before {\\n    color: #efefef; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .token:hover {\\n    background-color: #d6d6d6; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .clear-all {\\n    vertical-align: middle; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .item {\\n    cursor: pointer; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .token:before {\\n    content: \\\"\\\\2716\\\";\\n    font-weight: 100;\\n    margin-right: 5px; }\\n  ._2Y-5vVbYjU0Zli4vB9nZTB .category-container {\\n    margin-left: 3px; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB .value-display {\\n  background-color: #01B8AA; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB .item:hover {\\n  background-color: #C8C8C8; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB .token {\\n  background-color: #EAEAEA; }\\n\\n._2Y-5vVbYjU0Zli4vB9nZTB .searchbox {\\n  border: 1px solid #999;\\n  padding-left: 2px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"className\": \"_2Y-5vVbYjU0Zli4vB9nZTB\"\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./src/powerbi/css/AttributeSlicerVisual.scss\n ** module id = 9\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/powerbi/css/AttributeSlicerVisual.scss?./~/css-loader!./~/sass-loader");

/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	eval("\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = __webpack_require__(11);\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/debug/browser.js\n ** module id = 10\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/debug/browser.js?");

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	eval("\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = __webpack_require__(12);\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/debug/debug.js\n ** module id = 11\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/debug/debug.js?");

/***/ },
/* 12 */
/***/ function(module, exports) {

	eval("/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/debug/~/ms/index.js\n ** module id = 12\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/debug/~/ms/index.js?");

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	eval("/// <reference path=\"../../typings/powerbi.d.ts\" />\n\"use strict\";\nvar Utils_1 = __webpack_require__(5);\nvar $ = __webpack_require__(3);\nvar VisualBase = (function () {\n    /**\n     * Constructor for the Visual\n     * @param logger The logger used for logging, if provided, the logger will log events to the log element contained in this visual\n     */\n    function VisualBase(noCss) {\n        var _this = this;\n        if (noCss === void 0) { noCss = false; }\n        Utils_1.logger.addWriter(Utils_1.elementLogWriter(function () {\n            var ele = _this.element.find(\".logArea\");\n            ele.css({ display: \"block\" });\n            return ele;\n        }));\n        if (!noCss) {\n            this.cssModule = __webpack_require__(8);\n        }\n    }\n    /** This is called once when the visual is initialially created */\n    VisualBase.prototype.init = function (options, template) {\n        var _this = this;\n        if (template === void 0) { template = \"\"; }\n        this.width = options.viewport.width;\n        this.height = options.viewport.height;\n        this.container = options.element;\n        this.element = $(\"<div class='visual-base' style='height:100%;width:100%;'/>\");\n        // Adds a logging area\n        this.element.append($(\"<div class=\\\"logArea\\\"></div>\"));\n        this.sandboxed = VisualBase.DEFAULT_SANDBOX_ENABLED;\n        var promises = this.getExternalCssResources().map(function (resource) { return _this.buildExternalCssLink(resource); });\n        $.when.apply($, promises).then(function () {\n            var styles = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                styles[_i - 0] = arguments[_i];\n            }\n            return _this.element.append(styles.map(function (s) { return $(s); }));\n        });\n        this.element.append($(\"<st\" + \"yle>\" + this.getCss().join(\"\\n\") + \"</st\" + \"yle>\"));\n        if (template) {\n            this.element = this.element.append($(template));\n        }\n    };\n    /**\n     * Notifies the IVisual of an update (data, viewmode, size change).\n     */\n    VisualBase.prototype.update = function (options) {\n        this.width = options.viewport.width;\n        this.height = options.viewport.height;\n        var dataView = options.dataViews && options.dataViews[0];\n        if (dataView) {\n            if (VisualBase.EXPERIMENTAL_ENABLED) {\n                var objs = dataView.metadata.objects;\n                var experimental = objs && objs['experimental'];\n                var sandboxed = experimental && experimental['sandboxed'];\n                sandboxed = typeof sandboxed === \"undefined\" ? VisualBase.DEFAULT_SANDBOX_ENABLED : sandboxed;\n                if (this.sandboxed !== sandboxed) {\n                    this.sandboxed = sandboxed;\n                }\n            }\n        }\n        this.parent.css({ width: this.width, height: this.height });\n    };\n    /**\n     * Enumerates the instances for the objects that appear in the power bi panel\n     */\n    VisualBase.prototype.enumerateObjectInstances = function (options) {\n        if (options.objectName === 'experimental' && VisualBase.EXPERIMENTAL_ENABLED) {\n            return [{\n                    selector: null,\n                    objectName: 'experimental',\n                    properties: {\n                        sandboxed: this.sandboxed\n                    }\n                }];\n        }\n    };\n    Object.defineProperty(VisualBase.prototype, \"sandboxed\", {\n        /**\n         *\n         */\n        get: function () {\n            return this._sandboxed;\n        },\n        /**\n         * Sets the sandboxed state\n         */\n        set: function (value) {\n            var _this = this;\n            this._sandboxed = value;\n            this.element.detach();\n            var classedEle;\n            if (this.parent) {\n                this.parent.remove();\n            }\n            if (value) {\n                this.parent = $(\"<iframe style=\\\"width:\" + this.width + \"px;height:\" + this.height + \"px;border:0;margin:0;padding:0\\\" frameBorder=\\\"0\\\"/>\");\n                // Important that this happens first, otherwise there might not be a body\n                this.container.append(this.parent);\n                if (typeof navigator !== \"undefined\" && navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n                    // If you append the element without doing this, the iframe will load \n                    // after you've appended it and remove everything that you added\n                    this.parent[0].onload = function () {\n                        setTimeout(function () {\n                            _this.HACK_fonts();\n                            _this.parent.contents().find(\"body\").append(_this.element);\n                        }, 0);\n                    };\n                }\n                else {\n                    this.parent.contents().find(\"head\").append($('<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">'));\n                    this.parent.contents().find(\"body\").append(this.element);\n                    this.HACK_fonts();\n                    classedEle = this.parent.contents().find(\"html\");\n                }\n            }\n            else {\n                this.parent = $(\"<div style=\\\"width:\" + this.width + \"px;height:\" + this.height + \"px;border:0;margin:0;padding:0\\\"/>\");\n                this.parent.append(this.element);\n                this.container.append(this.parent);\n                classedEle = this.parent;\n            }\n            var classNameToAdd = this.cssModule && this.cssModule.locals && this.cssModule.locals.className;\n            if (classNameToAdd) {\n                classedEle.addClass(classNameToAdd);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the inline css used for this element\n     */\n    VisualBase.prototype.getCss = function () {\n        return this.cssModule ? [this.cssModule + \"\"] : [];\n    };\n    /**\n     * Builds the link for the given external css resource\n     */\n    VisualBase.prototype.buildExternalCssLink = function (resource) {\n        var link = 'li' + 'nk';\n        var integrity = resource.integrity ? \"integrity=\\\"\" + resource.integrity + \"\\\"\" : '';\n        var href = \"href=\\\"\" + resource.url + \"\\\"\";\n        var crossorigin = resource.crossorigin ? \" crossorigin=\\\"\" + resource.crossorigin + \"\\\"\" : '';\n        var rel = 'rel=\"stylesheet\"';\n        var defer = $.Deferred();\n        defer.resolve(\"<\" + link + \" \" + href + \" \" + rel + \" \" + integrity + \" \" + crossorigin + \">\");\n        return defer.promise();\n    };\n    /**\n     * Gets the external css paths used for this visualization\n     */\n    VisualBase.prototype.getExternalCssResources = function () {\n        return [];\n    };\n    VisualBase.prototype.HACK_fonts = function () {\n        var faces = this.HACK_getFontFaces();\n        this.element.prepend($(\"<st\" + \"yle>\" + (Object.keys(faces).map(function (n) { return faces[n].cssText; })).join(\"\\n\") + \"</st\" + \"yle>\"));\n    };\n    VisualBase.prototype.HACK_getFontFaces = function (obj) {\n        var sheet = document.styleSheets, rule = null, i = sheet.length, j, toReturn = {};\n        while (0 <= --i) {\n            try {\n                rule = sheet[i]['rules'] || sheet[i]['cssRules'] || [];\n                j = rule.length;\n                while (0 <= --j) {\n                    if (rule[j].constructor.name === 'CSSFontFaceRule' ||\n                        rule[j].constructor.toString().indexOf('CSSFontFaceRule') >= 0) {\n                        //o[ rule[j].style.fontFamily ] = rule[j].style.src;\n                        var style = rule[j].style;\n                        var fontFamily = style.fontFamily;\n                        if (!fontFamily && style.getPropertyValue) {\n                            fontFamily = style.getPropertyValue('font-family');\n                        }\n                        toReturn[fontFamily] = rule[j];\n                    }\n                    ;\n                }\n            }\n            catch (e) {\n                if (e.name !== 'SecurityError') {\n                    throw e;\n                }\n            }\n        }\n        return toReturn;\n    };\n    // TODO: Switch this to a build config\n    VisualBase.EXPERIMENTAL_ENABLED = false;\n    /**\n     * True if the sandbox is enabled by default\n     */\n    VisualBase.DEFAULT_SANDBOX_ENABLED = window.parent === window /* Checks if we are in an iframe */;\n    /**\n     * The set of capabilities for the visual\n     */\n    VisualBase.capabilities = VisualBase.EXPERIMENTAL_ENABLED ? {\n        objects: {\n            experimental: {\n                displayName: \"Experimental\",\n                properties: {\n                    sandboxed: {\n                        type: { bool: true },\n                        displayName: \"Enable to sandbox the visual into an IFrame\"\n                    }\n                }\n            }\n        }\n    } : {};\n    return VisualBase;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = VisualBase;\n/* HACK FIXES */\nif (powerbi.visuals.utility.SelectionManager.prototype['selectInternal']) {\n    powerbi.visuals.utility.SelectionManager.prototype['selectInternal'] = function (selectionId, multiSelect) {\n        if (powerbi.visuals.utility.SelectionManager.containsSelection(this.selectedIds, selectionId)) {\n            this.selectedIds = multiSelect\n                ? this.selectedIds.filter(function (d) { return !powerbi.data.Selector.equals(d.getSelector(), selectionId.getSelector()); })\n                : this.selectedIds.length > 1\n                    ? [selectionId] : [];\n        }\n        else {\n            if (multiSelect)\n                this.selectedIds.push(selectionId);\n            else\n                this.selectedIds = [selectionId];\n        }\n    };\n}\n//# sourceMappingURL=VisualBase.js.map\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/essex.powerbi.base/dist/lib/VisualBase.js\n ** module id = 13\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/essex.powerbi.base/dist/lib/VisualBase.js?");

/***/ },
/* 14 */
/***/ function(module, exports) {

	eval("var colors = [   \n    \"#01B8AA\",\n   // \"#374649\",\n    \"#FD625E\",\n    \"#F2C80F\",\n  //  \"#5F6B6D\", // Remove dark colors for now, for the black text\n    \"#8AD4EB\",\n    \"#FE9666\", // Bethany's Mango\n    \"#A66999\",\n    \"#3599B8\",\n    \"#DFBFBF\"\n];\n\ncolors.primary = colors.slice(0);\ncolors.full = [   \n    \"#01B8AA\",\n   // \"#374649\",\n    \"#FD625E\",\n    \"#F2C80F\",\n  //  \"#5F6B6D\", // Remove dark colors for now, for the black text\n    \"#8AD4EB\",\n    \"#FE9666\", // Bethany's Mango\n    \"#A66999\",\n    \"#3599B8\",\n    \"#DFBFBF\",\n    \n    // Second loop\n    \"#4AC5BB\",\n    \"#5F6B6D\",\n    \"#FB8281\",\n    \"#F4D25A\",\n    \"#7F898A\",\n    \"#A4DDEE\",\n    \"#FDAB89\",\n    \"#B687AC\",\n    \"#28738A\",\n    \"#A78F8F\",\n    \n    // Third loop\n    \"#168980\",\n    \"#293537\",\n    \"#BB4A4A\",\n    \"#B59525\",\n    \"#475052\",\n    \"#6A9FB0\",\n    \"#BD7150\",\n    \"#7B4F71\",\n    \"#1B4D5C\",\n    \"#706060\",\n    \n    // Fourth loop\n    \"#0F5C55\",\n    \"#1C2325\",\n    \"#7D3231\",\n    \"#796419\",\n    \"#303637\",\n    \"#476A75\",\n    \"#7E4B36\",\n    \"#52354C\",\n    \"#0D262E\",\n    \"#544848\",\n];\n\nmodule.exports = colors;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/essex.powerbi.base/src/colors.js\n ** module id = 14\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/essex.powerbi.base/src/colors.js?");

/***/ },
/* 15 */
/***/ function(module, exports) {

	eval("/*\r\n * Natural Sort algorithm for Javascript - Version 0.7 - Released under MIT license\r\n * Author: Jim Palmer (based on chunking idea from Dave Koelle)\r\n */\r\n/*jshint unused:false */\r\nmodule.exports = function naturalSort (a, b) {\r\n\t\"use strict\";\r\n\tvar re = /(^([+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?$|^0x[0-9a-f]+$|\\d+)/gi,\r\n\t\tsre = /(^[ ]*|[ ]*$)/g,\r\n\t\tdre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/,\r\n\t\thre = /^0x[0-9a-f]+$/i,\r\n\t\tore = /^0/,\r\n\t\ti = function(s) { return naturalSort.insensitive && ('' + s).toLowerCase() || '' + s; },\r\n\t\t// convert all to strings strip whitespace\r\n\t\tx = i(a).replace(sre, '') || '',\r\n\t\ty = i(b).replace(sre, '') || '',\r\n\t\t// chunk/tokenize\r\n\t\txN = x.replace(re, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\r\n\t\tyN = y.replace(re, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\r\n\t\t// numeric, hex or date detection\r\n\t\txD = parseInt(x.match(hre), 16) || (xN.length !== 1 && x.match(dre) && Date.parse(x)),\r\n\t\tyD = parseInt(y.match(hre), 16) || xD && y.match(dre) && Date.parse(y) || null,\r\n\t\toFxNcL, oFyNcL;\r\n\t// first try and sort Hex codes or Dates\r\n\tif (yD) {\r\n\t\tif ( xD < yD ) { return -1; }\r\n\t\telse if ( xD > yD ) { return 1; }\r\n\t}\r\n\t// natural sorting through split numeric strings and default strings\r\n\tfor(var cLoc=0, numS=Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {\r\n\t\t// find floats not starting with '0', string or 0 if not defined (Clint Priest)\r\n\t\toFxNcL = !(xN[cLoc] || '').match(ore) && parseFloat(xN[cLoc]) || xN[cLoc] || 0;\r\n\t\toFyNcL = !(yN[cLoc] || '').match(ore) && parseFloat(yN[cLoc]) || yN[cLoc] || 0;\r\n\t\t// handle numeric vs string comparison - number < string - (Kyle Adams)\r\n\t\tif (isNaN(oFxNcL) !== isNaN(oFyNcL)) { return (isNaN(oFxNcL)) ? 1 : -1; }\r\n\t\t// rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\r\n\t\telse if (typeof oFxNcL !== typeof oFyNcL) {\r\n\t\t\toFxNcL += '';\r\n\t\t\toFyNcL += '';\r\n\t\t}\r\n\t\tif (oFxNcL < oFyNcL) { return -1; }\r\n\t\tif (oFxNcL > oFyNcL) { return 1; }\r\n\t}\r\n\treturn 0;\r\n};\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/javascript-natural-sort/naturalSort.js\n ** module id = 15\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/javascript-natural-sort/naturalSort.js?");

/***/ },
/* 16 */
/***/ function(module, exports) {

	eval("module.exports = {\n\t\"output\": {\n\t\t\"PowerBI\": {\n\t\t\t\"visualName\": \"AttributeSlicer\",\n\t\t\t\"displayName\": \"Attribute Slicer\",\n\t\t\t\"projectId\": \"1652434005853\",\n\t\t\t\"icon\": \"./powerbi/assets/icon.svg\",\n\t\t\t\"screenshot\": \"./powerbi/assets/screenshot.png\",\n\t\t\t\"thumbnail\": \"./powerbi/assets/thumbnail.png\",\n\t\t\t\"entry\": \"./powerbi/AttributeSlicerVisual.ts\",\n\t\t\t\"description\": \"This visual is currently in beta testing and is undergoing active development. Attribute Slicer lets you filter a dataset on a given column by selecting attribute values of interest. The initial display is a helpful overview that lists the most common values first and shows the overall distribution of values as a horizontal bar chart. Whenever you select an attribute value, it is moved to the list of applied filters and all records containing that value are added to the result set for further analysis.\"\n\t\t}\n\t},\n\t\"lintFiles\": [\n\t\t\"AttributeSlicer.ts\",\n\t\t\"./react/AttributeSlicerReact.tsx\",\n\t\t\"./powerbi/AttributeSlicerVisual.ts\"\n\t]\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/build.json\n ** module id = 16\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/build.json?");

/***/ },
/* 17 */
/***/ function(module, exports) {

	eval("module.exports = \"<div class=\\\"advanced-slicer\\\">\\n    <div class=\\\"slicer-options\\\">\\n        <input class=\\\"searchbox\\\" placeholder=\\\"Search\\\" />\\n        <span class=\\\"clear-all\\\">Clear All</span>\\n        <div style=\\\"margin:0;padding:0;margin-top:5px;\\\">\\n        <div class=\\\"selection-container\\\">\\n            <div class=\\\"selections\\\">\\n            </div>\\n        </div>\\n        <!-- Disabled -->\\n        <label style=\\\"display:none;vertical-align:middle\\\">\\n            <input class=\\\"check-all\\\" type=\\\"checkbox\\\" style=\\\"margin-right:5px;vertical-align:middle\\\"/>&nbsp;Select All\\n        </label>\\n        </div>\\n        <hr/>\\n    </div>\\n    <div class=\\\"list\\\">\\n        <div class='load-spinner'><div>\\n    </div>\\n</div>\"\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/AttributeSlicer.tmpl.html\n ** module id = 17\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/AttributeSlicer.tmpl.html?");

/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\nvar EventEmitter_1 = __webpack_require__(7);\nvar $ = __webpack_require__(3);\nvar _ = __webpack_require__(1);\nvar JQuerySelectionManager_1 = __webpack_require__(23);\nvar Utils_1 = __webpack_require__(6);\nvar SlicerItem_tmpl_1 = __webpack_require__(19);\n/* tslint:disable */\nvar naturalSort = __webpack_require__(15);\nvar VirtualList = __webpack_require__(20);\n/* tslint:enable */\n/**\n * Represents an advanced slicer to help slice through data\n */\nvar AttributeSlicer = (function () {\n    /**\n     * Constructor for the advanced slicer\n     */\n    function AttributeSlicer(element, vlist) {\n        var _this = this;\n        /**\n         * The data contained in this slicer\n         */\n        this._data = [];\n        /**\n         * Our event emitter\n         */\n        this._eventEmitter = new EventEmitter_1.default();\n        /**\n         * Whether or not we are loading the search box\n         */\n        this.loadingSearch = false;\n        /**\n         * Updates the list height\n         */\n        this.updateListHeight = _.debounce(function () {\n            if (_this.dimensions) {\n                var height = (_this.dimensions.height - (_this.listEle.offset().top - _this.element.offset().top)) - 2;\n                var width = \"100%\";\n                _this.listEle.css({ width: width, height: height });\n                // .attr(\"dir\", dir);\n                _this.virtualList.setHeight(height);\n                _this.virtualList.setDir(_this.renderHorizontal);\n            }\n        }, 50);\n        /**\n         * Setter for whether or not the slicer options should be shown\n         */\n        this._showOptions = true;\n        /**\n         * Setter for whether or not the slicer search box should be shown\n         */\n        this._showSearchBox = true;\n        /**\n         * Setter for server side search\n         */\n        this._serverSideSearch = true;\n        /**\n         * Gets whether or not the search is case insensitive\n         */\n        this._caseInsentitive = true;\n        /**\n         * Whether or not to render horizontal\n         */\n        this._renderHorizontal = false;\n        /**\n         * Setter for the percentage width of the value column (10 - 100)\n         */\n        this._valueWidthPercentage = AttributeSlicer.DEFAULT_VALUE_WIDTH;\n        /**\n         * Setter for showing the values column\n         */\n        this._showValues = false;\n        /**\n         * Controls whether or not to show the selection tokens\n         */\n        this._showSelections = true;\n        /**\n         * Controls the size of the font\n         */\n        this._fontSize = 12; // 12 px\n        /**\n         * Gets the current serch value\n         */\n        this._searchString = \"\";\n        /**\n         * A boolean indicating whether or not the list is loading more data\n         */\n        this._loadingMoreData = false; // don't use this directly\n        /**\n         * Setter for loadingMoreData\n         */\n        this._toggleClass = _.debounce(function () { return _this.element.toggleClass(\"loading\", _this.loadingMoreData); }, 100);\n        this.element = element;\n        this.showSelections = true;\n        this.slicerEle = element.append($(AttributeSlicer.template)).find(\".advanced-slicer\");\n        this.listEle = this.slicerEle.find(\".list\");\n        this.virtualList = vlist || new VirtualList({\n            itemHeight: this.fontSize * 2,\n            afterRender: function () { return _this.selectionManager.refresh(); },\n            generatorFn: function (i) {\n                var item = _this.virtualList.items[i];\n                var ele = SlicerItem_tmpl_1.default(item, _this.calcColumnSizes());\n                ele\n                    .css({ height: (_this.virtualList.itemHeight - 4) + \"px\", paddingBottom: \"2.5px\", paddingTop: \"2px\" })\n                    .data(\"item\", item);\n                if (item.onCreate) {\n                    item.onCreate(ele);\n                }\n                item.$element = ele;\n                return ele[0];\n            },\n        });\n        this.selectionManager = new JQuerySelectionManager_1.default(function (items) {\n            _this.raiseSelectionChanged(items);\n        });\n        // We should just pass this info into the constructor\n        this.selectionManager.bindTo(this.listEle, \".item\", function (ele) { return ele.data(\"item\"); }, function (i) { return i.$element; });\n        this.fontSize = this.fontSize;\n        this.virtualListEle = this.virtualList.container;\n        this.virtualListEle.scroll(function () { return _this.checkLoadMoreData(); });\n        this.listEle.append(this.virtualListEle);\n        this.selectionsEle = element.find(\".selections\");\n        this.checkAllEle = element.find(\".check-all\").on(\"click\", function () { return _this.toggleSelectAll(); });\n        this.clearAllEle = element.find(\".clear-all\").on(\"click\", function () {\n            _this.search(\"\");\n            _this.clearSelection();\n        });\n        this.attachEvents();\n        this.brushSelectionMode = false;\n        // these two are here because the devtools call init more than once\n        this.loadingMoreData = true;\n    }\n    Object.defineProperty(AttributeSlicer.prototype, \"showOptions\", {\n        /**\n         * Getter for showOptions\n         */\n        get: function () {\n            return this._showOptions;\n        },\n        set: function (value) {\n            this._showOptions = value;\n            this.syncUIVisibility();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"showSearchBox\", {\n        /**\n         * Getter for showSearchBox\n         */\n        get: function () {\n            return this._showSearchBox;\n        },\n        set: function (value) {\n            this._showSearchBox = value;\n            this.syncUIVisibility();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"serverSideSearch\", {\n        /**\n         * Getter for server side search\n         */\n        get: function () {\n            return this._serverSideSearch;\n        },\n        set: function (value) {\n            this._serverSideSearch = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"singleSelect\", {\n        /**\n         * Getter for single select\n         */\n        get: function () {\n            return this.selectionManager.singleSelect;\n        },\n        /**\n         * Setter for if the attribute slicer should be single select\n         */\n        set: function (value) {\n            this.selectionManager.singleSelect = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"brushSelectionMode\", {\n        /**\n         * Getter for should use brush selection mode\n         */\n        get: function () {\n            return this.selectionManager.brushMode;\n        },\n        /**\n         * Setter for if the attribute slicer should use brush selection mode\n         */\n        set: function (value) {\n            this.selectionManager.brushMode = value;\n            this.element.toggleClass(\"brush-mode\", value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"caseInsensitive\", {\n        get: function () {\n            return this._caseInsentitive;\n        },\n        /**\n         * Setter for case insensitive\n         */\n        set: function (value) {\n            this._caseInsentitive = value;\n            this.syncItemVisiblity();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"events\", {\n        /**\n         * Gets our event emitter\n         */\n        get: function () {\n            return this._eventEmitter;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"renderHorizontal\", {\n        get: function () {\n            return this._renderHorizontal;\n        },\n        /**\n         * Sets whether or not to render horizontal\n         */\n        set: function (value) {\n            this._renderHorizontal = value;\n            this.element.toggleClass(\"render-horizontal\", value);\n            this.updateListHeight();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"dimensions\", {\n        get: function () {\n            return this._dimensions;\n        },\n        /**\n         * Sets the dimension of the slicer\n         */\n        set: function (dims) {\n            this._dimensions = dims;\n            this.updateListHeight();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"valueWidthPercentage\", {\n        /**\n         * Getter for the percentage width of the value column (10 - 100)\n         */\n        get: function () {\n            return this._valueWidthPercentage;\n        },\n        set: function (value) {\n            value = value ? Math.max(Math.min(value, 100), 10) : AttributeSlicer.DEFAULT_VALUE_WIDTH;\n            this._valueWidthPercentage = value;\n            this.resizeColumns();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"showValues\", {\n        /**\n         * Getter for show values\n         */\n        get: function () {\n            return this._showValues;\n        },\n        set: function (show) {\n            this._showValues = show;\n            this.element.toggleClass(\"has-values\", show);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"showSelections\", {\n        get: function () {\n            return this._showSelections;\n        },\n        /**\n         * Setter for showing the selections area\n         */\n        set: function (show) {\n            this._showSelections = show;\n            this.element.toggleClass(\"show-selections\", show);\n            this.syncItemVisiblity();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"showHighlight\", {\n        /**\n         * Gets whether or not we are showing the highlights\n         */\n        get: function () {\n            return this.element.hasClass(\"show-highlight\");\n        },\n        /**\n         * Toggles whether or not to show highlights\n         */\n        set: function (highlight) {\n            this.element.toggleClass(\"show-highlight\", !!highlight);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"data\", {\n        /**\n         * Gets the data behind the slicer\n         */\n        get: function () {\n            return this._data;\n        },\n        /**\n         * Sets the slicer data\n         */\n        set: function (newData) {\n            var _this = this;\n            // If the user is straight up just setting new data, then clear the selected item\n            // Otherwise, we are appending from a search/page action, it doesn't make sense to clear it.\n            if (!this.loadingMoreData) {\n                this.selectedItems = [];\n            }\n            if (newData && newData.length) {\n                this.search(this.searchString); // This forces a visibility change for the items (if necessary)\n            }\n            this._data = newData;\n            this.selectionManager.items = newData;\n            this.virtualList.setItems(newData);\n            this.syncItemVisiblity();\n            this.updateSelectAllButtonState();\n            // If this is just setting data, we are not currently in a load cycle\n            // Justification: When you change case insensitive in PBI, it reloads the data, filtering it and passing it to us\n            // But, that sometimes is not enough data ie start with 100 items, after a filter you have 2,\n            // well we need more data to fill the screen, this accounts for that\n            if (!this.loadingMoreData) {\n                setTimeout(function () { return _this.checkLoadMoreData(); }, 10);\n            }\n            // if some one sets the data, then clearly we are no longer loading data\n            this.loadingMoreData = false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"fontSize\", {\n        get: function () {\n            return this._fontSize;\n        },\n        /**\n         * Setter for fontSize\n         */\n        set: function (value) {\n            this._fontSize = value || 12;\n            this.slicerEle.css({\n                fontSize: this._fontSize + \"px\"\n            });\n            if (this.virtualList) {\n                this.virtualList.setItemHeight(this._fontSize * 2);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"selectedItems\", {\n        /**\n         * The list of selected items\n         */\n        get: function () {\n            return this.selectionManager.selection;\n        },\n        /**\n         * Sets the set of selected items\n         */\n        set: function (value) {\n            var _this = this;\n            this.selectionManager.selection = value;\n            // Important that these are always in sync, in case showSelections gets set to true\n            var selection = this.selectionManager.selection;\n            if (selection) {\n                this.selectionsEle.find(\".token\").remove();\n                selection.map(function (v) { return _this.createSelectionToken(v); }).forEach(function (n) { return n.appendTo(_this.element.find(\".selections\")); });\n            }\n            // We don't need to do any of this if show selections is off\n            if (this.showSelections) {\n                this.syncItemVisiblity();\n            }\n            this.syncUIVisibility();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"searchString\", {\n        get: function () {\n            return this._searchString;\n        },\n        /**\n         * Gets the current serch value\n         */\n        set: function (value) {\n            this._searchString = value || \"\";\n            this.loadingSearch = true;\n            this.element.find(\".searchbox\").val(value);\n            this.loadingSearch = false;\n            this.syncUIVisibility(false);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeSlicer.prototype, \"loadingMoreData\", {\n        get: function () {\n            return this._loadingMoreData;\n        },\n        set: function (value) {\n            this._loadingMoreData = value;\n            // Little janky, but what this does is ensures that if we are loading, to set the loading flag immediately.\n            // We also want to remove the load flag slowly, in case we are loading stuff a bunch (ie, scroll load)\n            if (value) {\n                this.element.addClass(\"loading\");\n            }\n            this._toggleClass();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Determines if the given slice item matches the given string value\n     */\n    AttributeSlicer.isMatch = function (item, matchValue, caseInsensitive) {\n        var searchStr = Utils_1.prettyPrintValue(matchValue);\n        var flags = caseInsensitive ? \"i\" : \"\";\n        var regex = new RegExp(AttributeSlicer.escapeRegExp(searchStr), flags);\n        // if (searchStr.indexOf(\"#R:\") === 0) {\n        //     try {\n        //         regex = new RegExp(searchStr.substring(3), flags);\n        //     } catch (e) { }\n        // }\n        return regex.test(Utils_1.prettyPrintValue(item.match)) || regex.test(Utils_1.prettyPrintValue(item.matchPrefix)) || regex.test(Utils_1.prettyPrintValue(item.matchSuffix));\n    };\n    /**\n     * Escapes RegExp\n     */\n    AttributeSlicer.escapeRegExp = function (str) {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    };\n    /**\n     * Calculates the column sizes for both the value and category columns\n     */\n    AttributeSlicer.prototype.calcColumnSizes = function () {\n        var remaining = 100 - this.valueWidthPercentage;\n        return {\n            value: this.showValues ? this.valueWidthPercentage : 0,\n            category: this.showValues ? remaining : 100,\n        };\n    };\n    /**\n     * Destroys this attribute slicer\n     */\n    AttributeSlicer.prototype.destroy = function () {\n        if (this.selectionManager) {\n            this.selectionManager.destroy();\n        }\n    };\n    /**\n     * Performs a search\n     */\n    AttributeSlicer.prototype.search = function (searchStr) {\n        var _this = this;\n        // If the search string has not changed we don't need to query for more data\n        if (this.searchString !== searchStr) {\n            this.searchString = searchStr;\n            if (this.serverSideSearch) {\n                setTimeout(function () { return _this.checkLoadMoreDataBasedOnSearch(); }, 10);\n            }\n        }\n        // this is required because when the list is done searching it adds back in cached elements with selected flags\n        this.syncItemVisiblity();\n        this.element.toggleClass(\"has-search\", !!this.searchString);\n    };\n    /**\n     * Refreshes the display when data changes\n     */\n    AttributeSlicer.prototype.refresh = function () {\n        if (this.virtualList) {\n            this.virtualList.rerender();\n        }\n    };\n    /**j\n     * Sorts the slicer\n     */\n    AttributeSlicer.prototype.sort = function (toSort, desc) {\n        this.data.sort(function (a, b) {\n            var sortVal = naturalSort(a[toSort], b[toSort]);\n            return desc ? -1 * sortVal : sortVal;\n        });\n    };\n    /**\n     * Listener for the list scrolling\n     */\n    AttributeSlicer.prototype.checkLoadMoreData = function () {\n        var scrollElement = this.virtualListEle[0];\n        var sizeProp = this.renderHorizontal ? \"Width\" : \"Height\";\n        var posProp = this.renderHorizontal ? \"Left\" : \"Top\";\n        var scrollSize = scrollElement[\"scroll\" + sizeProp];\n        var scrollPos = scrollElement[\"scroll\" + posProp];\n        var shouldScrollLoad = scrollSize - (scrollPos + scrollElement[\"client\" + sizeProp]) < 200;\n        if (shouldScrollLoad && !this.loadingMoreData && this.raiseCanLoadMoreData()) {\n            this.raiseLoadMoreData(false);\n        }\n    };\n    /**\n     * Raises the event to load more data\n     */\n    AttributeSlicer.prototype.raiseLoadMoreData = function (isNewSearch) {\n        var _this = this;\n        var item = {};\n        this.events.raiseEvent(\"loadMoreData\", item, isNewSearch, this.searchString);\n        if (item.result) {\n            this.loadingMoreData = true;\n            var promise_1 = this.loadPromise = item.result.then(function (items) {\n                // if this promise hasn't been cancelled\n                if (!promise_1 || !promise_1[\"cancel\"]) {\n                    _this.loadPromise = undefined;\n                    if (isNewSearch) {\n                        _this.data = items;\n                    }\n                    else {\n                        _this.data = _this.data.concat(items);\n                    }\n                    // make sure we don't need to load more after this, in case it doesn't all fit on the screen\n                    setTimeout(function () {\n                        _this.checkLoadMoreData();\n                        if (!_this.loadPromise) {\n                            _this.loadingMoreData = false;\n                        }\n                    }, 10);\n                    return items;\n                }\n            }, function () {\n                // If we are rejected,  we don't  need to clear the data,\n                // this just means the retrieval for more data failed, leave the data\n                // this.data = [];\n                _this.loadingMoreData = false;\n            });\n            return promise_1;\n        }\n        else {\n            this.loadingMoreData = false;\n        }\n    };\n    /**\n     * Raises the event 'can\n     * '\n     */\n    AttributeSlicer.prototype.raiseCanLoadMoreData = function (isSearch) {\n        if (isSearch === void 0) { isSearch = false; }\n        var item = {\n            result: false\n        };\n        this.events.raiseEvent(\"canLoadMoreData\", item, isSearch);\n        return item.result;\n    };\n    /**\n     * Raises the selectionChanged event\n     */\n    AttributeSlicer.prototype.raiseSelectionChanged = function (newItems) {\n        this.events.raiseEvent(\"selectionChanged\", newItems);\n    };\n    /**\n     * Resizes all of the visible columns\n     */\n    AttributeSlicer.prototype.resizeColumns = function () {\n        var sizes = this.calcColumnSizes();\n        this.element.find(\".value-container\").css({\n            maxWidth: sizes.value + \"%\"\n        });\n        this.element.find(\".category-container\").css({\n            maxWidth: sizes.category + \"%\"\n        });\n    };\n    /**\n     * Syncs the item elements state with the current set of selected items and the search\n     */\n    AttributeSlicer.prototype.syncItemVisiblity = function () {\n        var _this = this;\n        var filteredData = [];\n        if (this.data && this.data.length) {\n            filteredData = this.data.filter(function (n, i) {\n                var item = _this.data[i];\n                var isVisible = !_this.showSelections || !(!!_this.selectedItems && _this.selectedItems.filter(function (b) { return b.equals(item); }).length > 0);\n                // update the search\n                if (isVisible && !_this.serverSideSearch && _this.searchString) {\n                    isVisible = AttributeSlicer.isMatch(item, _this.searchString, _this.caseInsensitive);\n                }\n                return isVisible;\n            });\n        }\n        if (this.virtualList) {\n            this.virtualList.setItems(filteredData);\n            this.virtualList.rerender();\n        }\n    };\n    /**\n     * Syncs the UIs Visibility\n     */\n    AttributeSlicer.prototype.syncUIVisibility = function (calcList) {\n        if (calcList === void 0) { calcList = true; }\n        var hasSelection = !!(this.selectedItems && this.selectedItems.length);\n        this.element.find(\".slicer-options\").toggle(this.showOptions);\n        this.element.find(\".searchbox\").toggle(this.showSearchBox);\n        this.element.find(\".slicer-options\").toggle(this.showOptions && (this.showSearchBox || hasSelection));\n        this.clearAllEle.toggle(hasSelection || !!this.searchString);\n        if (calcList) {\n            this.updateListHeight();\n        }\n    };\n    /**\n     * Toggle the select all state\n     */\n    AttributeSlicer.prototype.toggleSelectAll = function () {\n        var checked = this.checkAllEle.prop(\"checked\");\n        if (!!checked) {\n            this.selectedItems = this._data.slice(0);\n        }\n        else {\n            this.selectedItems = [];\n        }\n    };\n    /**\n     * Creates a new selection token element\n     */\n    AttributeSlicer.prototype.createSelectionToken = function (v) {\n        var _this = this;\n        var newEle = $(\"<div/>\");\n        var text = Utils_1.prettyPrintValue(v.matchPrefix) + Utils_1.prettyPrintValue(v.match) + Utils_1.prettyPrintValue(v.matchSuffix);\n        newEle\n            .addClass(\"token\")\n            .attr(\"title\", text)\n            .data(\"item\", v)\n            .on(\"click\", function () {\n            newEle.remove();\n            var item = _this.selectedItems.filter(function (n) { return n.equals(v); })[0];\n            _this.selectedItems.splice(_this.selectedItems.indexOf(item), 1);\n            _this.selectedItems = _this.selectedItems.slice(0);\n        })\n            .text(text);\n        return newEle;\n    };\n    /**\n     * Clears the selection\n     */\n    AttributeSlicer.prototype.clearSelection = function () {\n        this.selectedItems = [];\n    };\n    /**\n     * Updates the select all button state to match the data\n     */\n    AttributeSlicer.prototype.updateSelectAllButtonState = function () {\n        this.checkAllEle.prop(\"indeterminate\", this.selectedItems.length > 0 && this._data.length !== this.selectedItems.length);\n        this.checkAllEle.prop(\"checked\", this.selectedItems.length > 0);\n    };\n    /**\n     * Attaches all the necessary events\n     */\n    AttributeSlicer.prototype.attachEvents = function () {\n        var _this = this;\n        var searchDebounced = _.debounce(function () { return _this.search(_this.getSearchStringFromElement()); }, AttributeSlicer.SEARCH_DEBOUNCE);\n        this.element.find(\".searchbox\").on(\"input\", function () {\n            if (!_this.loadingSearch) {\n                searchDebounced();\n            }\n        });\n        this.listEle.on(\"click\", function (evt) {\n            evt.stopImmediatePropagation();\n            evt.stopPropagation();\n        });\n    };\n    /**\n     * Gets the search string from the search box\n     */\n    AttributeSlicer.prototype.getSearchStringFromElement = function () {\n        return this.element.find(\".searchbox\").val() || \"\";\n    };\n    /**\n     * Loads more data based on search\n     * @param force Force the loading of new data, if it can\n     */\n    AttributeSlicer.prototype.checkLoadMoreDataBasedOnSearch = function () {\n        // only need to load if:\n        // 1. There is more data. 2. There is not too much stuff on the screen (not causing a scroll)\n        if (this.raiseCanLoadMoreData(true)) {\n            if (this.loadPromise) {\n                this.loadPromise[\"cancel\"] = true;\n            }\n            // we're not currently loading data, cause we cancelled\n            this.loadingMoreData = false;\n            this.raiseLoadMoreData(true);\n        }\n    };\n    /**\n     * The number of milliseconds before running the search, after a user stops typing.\n     */\n    AttributeSlicer.SEARCH_DEBOUNCE = 500;\n    /**\n     * The value column default width\n     */\n    AttributeSlicer.DEFAULT_VALUE_WIDTH = 66;\n    /**\n     * The template for this visual\n     */\n    AttributeSlicer.template = __webpack_require__(17);\n    return AttributeSlicer;\n}());\nexports.AttributeSlicer = AttributeSlicer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/AttributeSlicer.js\n ** module id = 18\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/AttributeSlicer.js?");

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\nvar Utils_1 = __webpack_require__(6);\n/**\n * Returns an element for the given item\n */\nfunction default_1(item, sizes) {\n    \"use strict\";\n    var match = item.match, matchPrefix = item.matchPrefix, matchSuffix = item.matchSuffix, sections = item.sections, renderedValue = item.renderedValue;\n    var categoryStyle = \"display:inline-block;overflow:hidden;max-width:\" + sizes.category + \"%\";\n    return $((\"\\n        <div style=\\\"white-space:nowrap\\\" class=\\\"item\\\" style=\\\"cursor:pointer\\\">\\n            <div style=\\\"margin-left: 5px;vertical-align:middle;height:100%\\\" class=\\\"display-container\\\">\\n                <span style=\\\"\" + categoryStyle + \"\\\" title=\\\"\" + Utils_1.prettyPrintValue(match) + \"\\\" class=\\\"category-container\\\">\\n                    <span class=\\\"matchPrefix\\\">\" + Utils_1.prettyPrintValue(matchPrefix) + \"</span>\\n                    <span class=\\\"match\\\">\" + Utils_1.prettyPrintValue(match) + \"</span>\\n                    <span class=\\\"matchSuffix\\\">\" + Utils_1.prettyPrintValue(matchSuffix) + \"</span>\\n                </span>\\n                <span style=\\\"display:inline-block;max-width:\" + sizes.value + \"%;height:100%\\\" class=\\\"value-container\\\">\\n                    <span style=\\\"display:inline-block;width:\" + renderedValue + \"%;height:100%\\\">\\n                    \" + (sections || []).map(function (s) {\n        var color = s.color;\n        if (color) {\n            color = \"background-color:\" + color + \";\";\n        }\n        var displayValue = s.displayValue || s.value || \"0\";\n        var style = \"display:inline-block;width:\" + s.width + \"%;\" + color + \";height:100%\";\n        return (\"\\n                                <span style=\\\"\" + style + \"\\\" title=\\\"\" + displayValue + \"\\\" class=\\\"value-display\\\">\\n                                    &nbsp;<span class=\\\"value\\\">\" + displayValue + \"</span>\\n                                </span>\\n                            \").trim().replace(/\\n/g, \"\");\n    }).join(\"\") + \"\\n                    </span>\\n                </span>\\n            </div>\\n        </div>\\n    \").trim().replace(/\\n/g, \"\"));\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = default_1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/SlicerItem.tmpl.js\n ** module id = 19\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/SlicerItem.tmpl.js?");

/***/ },
/* 20 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * The MIT License (MIT)\n *\n * Copyright (C) 2013 Sergi Mansilla\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the 'Software'), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nvar $ = __webpack_require__(3);\nvar _ = __webpack_require__(1);\n\n/**\n * Creates a virtually-rendered scrollable list.\n * @param {object} config\n * @constructor\n */\nfunction VirtualList(config) {\n  var width = (config && config.w + 'px') || '100%';\n  var height = (config && config.h + 'px') || '100%';\n  this.itemHeight = config.itemHeight;\n\n  this.generatorFn = config.generatorFn;\n  this.afterRender = config.afterRender;\n\n  var scroller = VirtualList.createScroller(0);\n  var listContainer = this.listContainer = $(\"<div class='list-display'>\");\n  this.scroller = scroller;\n  this.container = VirtualList.createContainer(width, height);\n  this.container.append(listContainer);\n  this.container.append(scroller);\n\n//   var screenItemsLen = Math.ceil(config.h / itemHeight);\n//   // Cache 4 times the number of items that fit in the container viewport\n//   this.cachedItemsLen = screenItemsLen * 3;\n\n  var self = this;\n\n  // As soon as scrolling has stopped, this interval asynchronouslyremoves all\n  // the nodes that are not used anymore\n  this.rmNodeInterval = setInterval(function() {\n    if (Date.now() - this.lastScrolled > 100) {\n      var badNodes = self.container.find('[data-rm]');\n      if (badNodes.length) {\n          badNodes.remove();\n      }\n    }\n  }.bind(this), 300);\n\n  var onScroll = function(e) {\n    var scrollPos = e.target[this.scrollProp]; // Triggers reflow\n    if (!this.lastRepaintPos || Math.abs(scrollPos - this.lastRepaintPos) > this.maxBuffer) {\n      var first = parseInt(scrollPos / this.itemHeight) - this.screenItemsLen;\n      self._renderChunk(self.listContainer, first < 0 ? 0 : first);\n      this.lastRepaintPos = scrollPos;\n    }\n\n    this.lastScrolled = Date.now();\n    e.preventDefault && e.preventDefault();\n  }.bind(this);\n\n  this.container.on('scroll', onScroll.bind(this));\n}\n\nVirtualList.prototype.setDir = function (horiz) {\n  var size = (this.itemHeight * this.totalRows);\n  var height = this.container.height();\n  var width = this.container.width();\n  this.horiz = horiz;\n  if (horiz) {\n    this.scrollProp = \"scrollLeft\";\n    this.scroller.css({\n        width: size + 'px',\n        height: '1px'\n    });\n    this.listContainer.css({\n        transform: \"rotate(-90deg) translateX(-\" + (height - 5) + \"px)\",\n        transformOrigin: \"0px 0px\",\n        height: width + \"px\",\n        width: height + \"px\"\n    });\n    this.container.css({\n      overflowX: \"auto\",\n      overflowY: \"hidden\"\n    }).scrollTop(0);\n  } else {\n    this.scrollProp = \"scrollTop\";\n    this.scroller.css({\n        width: '1px',\n        height: size + 'px'\n    });\n    this.listContainer.css({\n        transform: \"\",\n        transformOrigin: \"\",\n        width: width + \"px\",\n        height: height + \"px\"\n    });\n    this.container.css({\n      overflowX: \"hidden\",\n      overflowY: \"auto\"\n    }).scrollLeft(0);\n  }\n  \n  var screenItemsLen = this.screenItemsLen = Math.ceil((this.horiz ? width : height) / this.itemHeight);\n  // Cache 4 times the number of items that fit in the container viewport\n  this.cachedItemsLen = screenItemsLen * 3;\n  this.maxBuffer = screenItemsLen * this.itemHeight;\n  this.lastRepaintPos = undefined;\n  if (this.items) {\n    var first = parseInt(this.container[0][this.scrollProp] / this.itemHeight) - this.screenItemsLen;\n    this._renderChunk(this.listContainer, first < 0 ? 0 : first);\n  }\n};\n\nVirtualList.prototype.setHeight = function (height) {\n    this.container.css({ height: height});\n    var screenItemsLen = this.screenItemsLen = Math.ceil((this.horiz ? this.container.width() : height) / this.itemHeight);\n    // Cache 4 times the number of items that fit in the container viewport\n    this.cachedItemsLen = screenItemsLen * 3;\n    this.maxBuffer = screenItemsLen * this.itemHeight;\n    \n    this.lastRepaintPos = undefined;\n    if (this.items) {\n        var first = parseInt(this.container[0][this.scrollProp] / this.itemHeight) - this.screenItemsLen;\n        this._renderChunk(this.listContainer, first < 0 ? 0 : first);\n    }\n};\n\nVirtualList.prototype.setItemHeight = function (itemHeight) {\n    this.itemHeight = itemHeight;\n    var screenItemsLen = this.screenItemsLen = Math.ceil((this.horiz ? this.container.width() : this.container.height()) / this.itemHeight);\n    // Cache 4 times the number of items that fit in the container viewport\n    this.cachedItemsLen = screenItemsLen * 3;\n    this.maxBuffer = screenItemsLen * this.itemHeight;\n    var sizeObj = {  };\n    sizeObj[this.horiz ? \"width\" : \"height\"] = (this.itemHeight * this.totalRows) + \"px\";\n    this.scroller.css(sizeObj);\n    \n    this.lastRepaintPos = undefined;\n    if (this.items) {\n        var first = parseInt(this.container[0][this.scrollProp] / this.itemHeight) - this.screenItemsLen;\n        this._renderChunk(this.listContainer, first < 0 ? 0 : first);\n    }\n};\n\nVirtualList.prototype.setItems = function (items) {\n    this.items = items;\n    this.totalRows = (items && items.length);\n    var sizeObj = {  };\n    sizeObj[this.horiz ? \"width\" : \"height\"] = (this.itemHeight * this.totalRows) + \"px\";\n    this.scroller.css(sizeObj);\n    this.lastRepaintPos = undefined;\n    this._renderChunk(this.listContainer, 0);\n};\n\nVirtualList.prototype.createRow = function(i) {\n  var item;\n  if (this.generatorFn)\n    item = this.generatorFn(i);\n  else if (this.items) {\n    if (typeof this.items[i] === 'string') {\n      var itemText = document.createTextNode(this.items[i]);\n      item = document.createElement('div');\n      item.style.height = this.itemHeight + 'px';\n      item.appendChild(itemText);\n    } else {\n      item = this.items[i];\n    }\n  }\n  \n  if (item) {\n    item.classList.add('vrow');\n    item.style.position = 'absolute';\n    item.style.top = (i * this.itemHeight) + 'px';\n  }\n  return item;\n};\n\nVirtualList.prototype.rerender = _.debounce(function() {\n    var first = parseInt(this.container[0][this.scrollProp] / this.itemHeight) - this.screenItemsLen;\n    this._renderChunk(this.listContainer, first < 0 ? 0 : first);\n    this.lastScrolled = 0;\n}, 100);\n\n/**\n * Renders a particular, consecutive chunk of the total rows in the list. To\n * keep acceleration while scrolling, we mark the nodes that are candidate for\n * deletion instead of deleting them right away, which would suddenly stop the\n * acceleration. We delete them once scrolling has finished.\n *\n * @param {Node} node Parent node where we want to append the children chunk.\n * @param {Number} from Starting position, i.e. first children index.\n * @return {void}\n */\nVirtualList.prototype._renderChunk = function(node, from) {\n  var finalItem = from + this.cachedItemsLen;\n  if (finalItem > this.totalRows)\n    finalItem = this.totalRows;\n\n  // Append all the new rows in a document fragment that we will later append to\n  // the parent node\n  var fragment = $(\"<div>\");\n  for (var i = from; i < finalItem && i < this.totalRows; i++) {\n    var row = this.createRow(i);\n    fragment.append(row);\n  }\n\n  // Hide and mark obsolete nodes for deletion.\n  for (var j = 1, l = node[0].childNodes.length; j < l; j++) {\n    node[0].childNodes[j].style.display = 'none';\n    node[0].childNodes[j].setAttribute('data-rm', '1');\n  }\n  node.append(fragment);\n  if (this.afterRender) {\n    this.afterRender();\n  }\n};\n\nVirtualList.createContainer = function(w, h) {\n    var ele = $('<div>');\n    ele.addClass(\"virtual-list\");\n    ele.css({\n        width: \"100%\",\n        height: \"100%\",\n        overflow: 'hidden',\n        overflowY: \"auto\",\n        position: 'relative',\n        padding: 0\n    }); \n    return ele;\n};\n\nVirtualList.createScroller = function(h) {\n    var ele = $('<div>');   \n    ele.addClass(\"vlist-scroller\");\n    ele.css({\n        opacity: 0,\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '1px',\n        height: h + 'px'\n    });\n    return ele;\n};\n\nmodule.exports = VirtualList;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/lib/VirtualList.js\n ** module id = 20\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/lib/VirtualList.js?");

/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\nvar essex_powerbi_base_1 = __webpack_require__(2);\nvar VisualDataRoleKind = powerbi.VisualDataRoleKind;\nvar StandardObjectProperties = powerbi.visuals.StandardObjectProperties;\nvar AttributeSlicerVisual_defaults_1 = __webpack_require__(22);\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = $.extend(true, {}, essex_powerbi_base_1.VisualBase.capabilities, {\n    dataRoles: [\n        {\n            name: \"Category\",\n            kind: VisualDataRoleKind.Grouping,\n            displayName: \"Category\",\n        }, {\n            name: \"Values\",\n            kind: VisualDataRoleKind.Measure,\n            displayName: \"Values\",\n        },\n    ],\n    dataViewMappings: [{\n            conditions: [{ \"Category\": { max: 1, min: 0 }, \"Values\": { min: 0 } }],\n            categorical: {\n                categories: {\n                    for: { in: \"Category\" },\n                    dataReductionAlgorithm: { window: { count: AttributeSlicerVisual_defaults_1.DATA_WINDOW_SIZE } },\n                },\n                values: {\n                    select: [{ for: { in: \"Values\" } }],\n                    dataReductionAlgorithm: { top: {} },\n                },\n            },\n        },],\n    // sort this crap by default\n    sorting: {\n        default: {}\n    },\n    objects: {\n        general: {\n            displayName: \"General\",\n            properties: {\n                filter: {\n                    type: { filter: {} },\n                    rule: {\n                        output: {\n                            property: \"selected\",\n                            selector: [\"Values\"],\n                        },\n                    },\n                },\n                // formatString: StandardObjectProperties.formatString,\n                selection: {\n                    type: { text: {} }\n                },\n                textSize: {\n                    displayName: \"Text Size\",\n                    type: { numeric: true },\n                },\n                showOptions: {\n                    displayName: \"Show Options\",\n                    description: \"Should the search box and other options be shown\",\n                    type: { bool: true },\n                },\n                selfFilter: {\n                    type: { filter: { selfFilter: true } }\n                },\n                selfFilterEnabled: {\n                    type: { operations: { searchEnabled: true } }\n                },\n            },\n        },\n        display: {\n            displayName: \"Display\",\n            properties: {\n                valueColumnWidth: {\n                    displayName: \"Value Width %\",\n                    description: \"The percentage of the width that the value column should take up.\",\n                    type: { numeric: true },\n                },\n                horizontal: {\n                    displayName: \"Horizontal\",\n                    description: \"Display the attributes horizontally, rather than vertically\",\n                    type: { bool: true },\n                },\n                labelDisplayUnits: StandardObjectProperties.labelDisplayUnits,\n                labelPrecision: StandardObjectProperties.labelPrecision,\n            },\n        },\n        selection: {\n            displayName: \"Selection\",\n            properties: {\n                brushMode: {\n                    displayName: \"Brush Mode\",\n                    description: \"Allow for the drag selecting of attributes\",\n                    type: { bool: true },\n                },\n                singleSelect: {\n                    displayName: \"Single Select\",\n                    description: \"Only allow for a single selected\",\n                    type: { bool: true },\n                },\n                showSelections: {\n                    displayName: \"Use Tokens\",\n                    description: \"Will show the selected attributes as tokens\",\n                    type: { bool: true },\n                },\n            },\n        },\n    },\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/powerbi/AttributeSlicerVisual.capabilities.js\n ** module id = 21\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/powerbi/AttributeSlicerVisual.capabilities.js?");

/***/ },
/* 22 */
/***/ function(module, exports) {

	eval("\"use strict\";\n/**\n * The number of items to load from PBI at any one time\n */\nexports.DATA_WINDOW_SIZE = 500;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/powerbi/AttributeSlicerVisual.defaults.js\n ** module id = 22\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/powerbi/AttributeSlicerVisual.defaults.js?");

/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SelectionManager_1 = __webpack_require__(24);\nvar EVENTS_NS = \".selection-manager\";\nvar JQuerySelectionManager = (function (_super) {\n    __extends(JQuerySelectionManager, _super);\n    /**\n     * Constructor\n     */\n    function JQuerySelectionManager(onSelectionChanged) {\n        var _this = this;\n        _super.call(this, onSelectionChanged);\n        var updateKeyState = function (e) {\n            _this.keyPressed({\n                ctrl: e.ctrlKey,\n                shift: e.shiftKey,\n            });\n        };\n        $(window)\n            .on(\"keydown\" + EVENTS_NS, updateKeyState)\n            .on(\"keyup\" + EVENTS_NS, updateKeyState)\n            .on(\"focus\" + EVENTS_NS, updateKeyState)\n            .on(\"blur\" + EVENTS_NS, updateKeyState);\n    }\n    /**\n     * Will bind event listeners to the given set of elements\n     */\n    JQuerySelectionManager.prototype.bindTo = function (listEle, itemEleSelector, eleItemGetter, itemEleGetter) {\n        var _this = this;\n        this.listEle = listEle;\n        this.itemSelector = itemEleSelector;\n        this.eleItemGetter = eleItemGetter;\n        this.itemEleGetter = itemEleGetter;\n        listEle.on(\"contextmenu\" + EVENTS_NS, function (e) { return _this.endDrag(); });\n        listEle.on(\"selectstart\" + EVENTS_NS, function (e) { return false; });\n        listEle.on(\"mouseenter\" + EVENTS_NS, function (e) {\n            e.stopPropagation();\n            _this.endDrag();\n        });\n        listEle.on(\"mouseleave\" + EVENTS_NS, function () { return _this.endDrag(); });\n        listEle.on(\"mousedown\" + EVENTS_NS, function (e) {\n            e.stopPropagation();\n            var button = e.which || e[\"buttons\"];\n            if (button === 1) {\n                var $target = $(e.target);\n                if (!$target.is(itemEleSelector)) {\n                    $target = $target.parents(\".item\");\n                }\n                if ($target.is(itemEleSelector)) {\n                    _this.mouseDownEle = $target;\n                    _this.lastMouseDownX = e.clientX;\n                    _this.lastMouseDownY = e.clientY;\n                }\n            }\n        });\n        listEle.on(\"mouseup\" + EVENTS_NS, function (e) {\n            e.stopPropagation();\n            _this.lastMouseDownX = undefined;\n            _this.lastMouseDownY = undefined;\n            if (_this._dragging) {\n                _this.endDrag();\n            }\n        });\n        listEle.on(\"mousemove\" + EVENTS_NS, function (e) {\n            e.stopPropagation();\n            var button = e.which || e[\"buttons\"];\n            // If the user moved more than 10 px in any direction with the mouse down\n            if (button !== 1) {\n                _this.endDrag();\n            }\n            else if (typeof _this.lastMouseDownX !== \"undefined\" &&\n                (Math.abs(e.clientX - _this.lastMouseDownX) >= 10 ||\n                    Math.abs(e.clientY - _this.lastMouseDownY)) &&\n                !_this._dragging) {\n                _this.startDrag();\n                // Add the item that we mouse downed on\n                var item = _this.eleItemGetter(_this.mouseDownEle);\n                if (item) {\n                    _this.itemHovered(item);\n                }\n            }\n        });\n        this.refresh();\n        // Return a function to unbind\n        return function () {\n            var u;\n            listEle.off(EVENTS_NS);\n            listEle.find(itemEleSelector).off(EVENTS_NS);\n            _this.listEle = u;\n            _this.itemSelector = u;\n            _this.eleItemGetter = u;\n            _this.lastMouseDownX = u;\n            _this.lastMouseDownY = u;\n            _this.mouseDownEle = u;\n        };\n    };\n    /**\n     * Destroys\n     */\n    JQuerySelectionManager.prototype.destroy = function () {\n        $(window).off(EVENTS_NS);\n        if (this.listEle) {\n            this.listEle\n                .off(EVENTS_NS)\n                .find(this.itemSelector)\n                .off(EVENTS_NS);\n        }\n    };\n    /**\n     * OVERRIDES\n     */\n    /**\n     * Indicate that we are starting to drag\n     */\n    JQuerySelectionManager.prototype.startDrag = function () {\n        _super.prototype.startDrag.call(this);\n        if (this.brushMode) {\n            this.listEle.find(this.itemSelector).removeClass(\"selected-slicer-item\");\n        }\n    };\n    /**\n     * Indicates that we are ending a drag\n     */\n    JQuerySelectionManager.prototype.endDrag = function () {\n        var u;\n        this.lastMouseDownX = u;\n        this.lastMouseDownY = u;\n        this.mouseDownEle = u;\n        _super.prototype.endDrag.call(this);\n    };\n    /**\n     * Refreshes the selection state for all of the item elements\n     */\n    JQuerySelectionManager.prototype.refresh = function () {\n        var _this = this;\n        if (this.listEle) {\n            // \"function\" important here\n            var that_1 = this;\n            this.listEle.find(this.itemSelector)\n                .off(EVENTS_NS) // Remove all the other ones\n                .on(\"selectstart\" + EVENTS_NS, function (e) { return false; })\n                .on(\"mouseenter\" + EVENTS_NS, function (e) {\n                e.stopPropagation();\n                that_1.itemHovered(that_1.eleItemGetter($(this)));\n            })\n                .on(\"click\" + EVENTS_NS, function (e) {\n                e.stopPropagation();\n                that_1.itemClicked(that_1.eleItemGetter($(this)));\n            })\n                .each(function (idx, ele) {\n                var item = _this.eleItemGetter($(ele));\n                // This says, if we are brushing, then show the brushing selection, otherwise show the real selection\n                var isItemSelected = _this.findIndex(item, _this._dragging && _this.brushMode ? _this._brushingSelection : _this.selection) >= 0;\n                // Add the selected class if it is selected\n                $(ele).toggleClass(\"selected-slicer-item\", isItemSelected);\n            });\n        }\n    };\n    /**\n     * Override of itemHovered\n     */\n    JQuerySelectionManager.prototype.itemHovered = function (item) {\n        var _this = this;\n        _super.prototype.itemHovered.call(this, item);\n        if (this.itemEleGetter) {\n            this._brushingSelection.forEach(function (n) {\n                $(_this.itemEleGetter(n)).addClass(\"selected-slicer-item\");\n            });\n        }\n    };\n    /**\n     * Internal method for setting the selection\n     */\n    JQuerySelectionManager.prototype.setSelection = function (value) {\n        _super.prototype.setSelection.call(this, value);\n        this.refresh();\n    };\n    return JQuerySelectionManager;\n}(SelectionManager_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = JQuerySelectionManager;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/selection/JQuerySelectionManager.js\n ** module id = 23\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/selection/JQuerySelectionManager.js?");

/***/ },
/* 24 */
/***/ function(module, exports) {

	eval("\"use strict\";\n/**\n * TODO:\n *  - Update the brushing code to not use the \"selected\" class, but a brushed class that has the same colors/look as the selection class.\n */\nvar SelectionManager = (function () {\n    /**\n     * Constructor\n     */\n    function SelectionManager(onSelectionChanged) {\n        /**\n         * The current selection\n         */\n        this._selectionDontUseDirectly = [];\n        /**\n         * The brushing selection, the selection that is occuring while the brushing is happening\n         */\n        this._brushingSelection = [];\n        /**\n         * The current key state\n         */\n        this.keyState = {};\n        /**\n         * Whether or not the user is currently dragging\n         */\n        this._dragging = false;\n        /**\n         * Whether or not we are currently in brush mode\n         */\n        this._brushMode = false;\n        /**\n         * Setter for single select mode\n         */\n        this._singleSelectDontUse = false;\n        this.selectionListener = onSelectionChanged;\n    }\n    Object.defineProperty(SelectionManager.prototype, \"items\", {\n        /**\n         * Gets the set of items associated with this manager\n         */\n        get: function () {\n            return this._items;\n        },\n        /**\n         * Sets the current set of items\n         */\n        set: function (value) {\n            this._items = value || [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selection\", {\n        /**\n         * Returns the current selection\n         */\n        get: function () {\n            return this._selectionDontUseDirectly;\n        },\n        /**\n         * Setter for selection\n         */\n        set: function (value) {\n            this.setSelection(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"singleSelect\", {\n        get: function () {\n            return this._singleSelectDontUse;\n        },\n        /**\n         * Setter for single select mode\n         */\n        set: function (value) {\n            this._singleSelectDontUse = value;\n            // Cheat, reset it, this forces a single item to be selected\n            this.selection = this.selection.slice(0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"brushingSelection\", {\n        /**\n         * Returns the brushing selection\n         */\n        get: function () {\n            return this._brushingSelection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"dragging\", {\n        /**\n         * Returns true if we are current dragging\n         */\n        get: function () {\n            return this._dragging;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"brushMode\", {\n        /**\n         * Getter for brushMode\n         */\n        get: function () {\n            return this._brushMode;\n        },\n        /**\n         * Setter for brush mode\n         */\n        set: function (value) {\n            this._brushMode = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Indicates that an item was hovered over\n     */\n    SelectionManager.prototype.itemHovered = function (item) {\n        var _this = this;\n        if (this._dragging && this._brushMode && this.findIndex(item, this._brushingSelection) < 0) {\n            if (this._brushingSelection.length >= 1 && this.items && this.items.length) {\n                var lowIndex_1;\n                var highIndex_1;\n                var newSel = this._brushingSelection.slice(0);\n                newSel.push(item);\n                newSel.forEach(function (n) {\n                    var currIndex = _this._items.indexOf(n);\n                    if (typeof lowIndex_1 === \"undefined\" || currIndex < lowIndex_1) {\n                        lowIndex_1 = currIndex;\n                    }\n                    if (typeof highIndex_1 === \"undefined\" || currIndex > highIndex_1) {\n                        highIndex_1 = currIndex;\n                    }\n                });\n                this._brushingSelection = this.items.slice(lowIndex_1, highIndex_1 + 1);\n            }\n            else {\n                this._brushingSelection.push(item);\n            }\n        }\n    };\n    /**\n     * Indicates that an item was clicked\n     */\n    SelectionManager.prototype.itemClicked = function (item) {\n        var _this = this;\n        // Toggles the selected item out of the selection\n        var toggleItem = function () {\n            var idx = _this.findIndex(item);\n            var newSel = _this.selection.slice(0);\n            if (idx < 0) {\n                newSel.push(item);\n            }\n            else {\n                newSel.splice(idx, 1);\n            }\n            _this.selection = newSel;\n        };\n        if (!this.keyState.ctrl) {\n            // If the user just selected the first item\n            if (this.keyState.shift && !this.shiftPivot) {\n                this.shiftPivot = item;\n            }\n            if (this.keyState.shift && this.items && this.items.length) {\n                var idx = this.findIndex(this.shiftPivot, this.items);\n                var lastIdx = this.findIndex(item, this.items);\n                // The selection is the range between the first and second indexes\n                this.selection =\n                    this.items.slice(idx < lastIdx ? idx : lastIdx, (idx < lastIdx ? lastIdx : idx) + 1);\n            }\n            else if (this._brushMode) {\n                // If the user is in \"brush\" mode, but just single clicks an item, then just deselect it, otherwise \n                // set the item\n                this.selection = this.selection.length === 1 && this.selection[0].equals(item) ? [] : [item];\n            }\n            else {\n                toggleItem();\n            }\n        }\n        else {\n            toggleItem();\n        }\n    };\n    /**\n     * Lets the selection manager that a key was pressed\n     */\n    SelectionManager.prototype.keyPressed = function (state) {\n        this.keyState.ctrl = state.ctrl;\n        if (this.keyState.shift !== state.shift) {\n            // User started pressing shift\n            if (state.shift) {\n                this.shiftPivot = this.selection[this.selection.length - 1];\n            }\n            else {\n                delete this.shiftPivot;\n            }\n            this.keyState.shift = state.shift;\n        }\n    };\n    /**\n     * Indicates that we are starting to drag\n     */\n    SelectionManager.prototype.startDrag = function () {\n        this._dragging = true;\n        this._brushingSelection = [];\n    };\n    /**\n     * Indicates that we are ending a drag operation\n     */\n    SelectionManager.prototype.endDrag = function () {\n        if (this._dragging) {\n            this._dragging = false;\n            if (this.brushMode) {\n                this.selection = this._brushingSelection.slice(0);\n            }\n            this._brushingSelection = [];\n        }\n    };\n    /**\n     * Finds the given item in the list of selections\n     */\n    SelectionManager.prototype.findIndex = function (item, list) {\n        if (!list) {\n            list = this.selection;\n        }\n        for (var i = 0; i < list.length; i++) {\n            var toCompare = list[i];\n            if (toCompare.equals(item)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * Internal method for setting the selection\n     */\n    SelectionManager.prototype.setSelection = function (value) {\n        value = value || [];\n        // We are single select, limit to one\n        if (this.singleSelect && value.length) {\n            value = [value[value.length - 1]];\n        }\n        this._selectionDontUseDirectly = value;\n        if (this.selectionListener) {\n            this.selectionListener(value);\n        }\n    };\n    return SelectionManager;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = SelectionManager;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/selection/SelectionManager.js\n ** module id = 24\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/selection/SelectionManager.js?");

/***/ }
/******/ ]);